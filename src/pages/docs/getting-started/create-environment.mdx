---
title: Create environment
tags:
  - lifecycle
  - tutorial
  - ephemeral-env
  - start
  - first environment
---

import { Callout, Steps } from "nextra/components";
import { Info, Settings, CheckCircle, AlertTriangle } from "lucide-react";

## Quick Reference

Create your first ephemeral environment in 5 steps:

1. **Fork** the `lifecycle-examples` repository
2. **Install** your GitHub App on the forked repo
3. **Update** `lifecycle.yaml` with your GitHub username
4. **Open PR** from a new branch to `main`
5. **Wait** for Lifecycle to deploy (check PR comment for status)

**Time to complete**: ~10 minutes

---

## Prerequisites

Before starting, ensure you have:

- Lifecycle installed and running in your Kubernetes cluster ([Setup Guide](/docs/setup/install-lifecycle))
- A GitHub App configured for Lifecycle ([Create GitHub App](/docs/setup/create-github-app))
- Git CLI installed locally

---

## Step-by-Step Instructions

<Steps>

### Fork and Configure the Repository

Fork the [`lifecycle-examples`](https://github.com/GoodRxOSS/lifecycle-examples) repository to your GitHub account or organization.

Then install your Lifecycle GitHub App on the forked repository:

1. Navigate to your GitHub Apps settings:
   - **Personal account**: `https://github.com/settings/apps`
   - **Organization**: `https://github.com/organizations/<org>/settings/apps`
2. Find your **Lifecycle GitHub App** and click **Edit**
3. Select **Install App** from the sidebar
4. Click the <Settings className="inline h-4 w-4" /> Settings icon next to your account
5. Select your forked `lifecycle-examples` repository
6. Click **Save**

### Create a Branch and Update Configuration

Clone your forked repository and create a new branch:

```sh
git clone https://github.com/<your-username>/lifecycle-examples.git
cd lifecycle-examples
git checkout -b lfc-config
```

Open `lifecycle.yaml` and update the repository path to match your fork:

```yaml filename="lifecycle.yaml"
# Change this line:
github:
  repository: "GoodRxOSS/lifecycle-examples"

# To this (replace with your username or org):
github:
  repository: "<your-github-username>/lifecycle-examples"
```

### Commit and Push

```sh
git add lifecycle.yaml
git commit -m "Update repository to forked location"
git push origin lfc-config
```

### Open a Pull Request

1. Go to your forked repository on GitHub
2. Click **Compare & pull request** (or create a new PR from `lfc-config` to `main`)
3. Submit the pull request

### Monitor Deployment

After opening the PR, Lifecycle posts a comment that serves as your **mission control**:

```
+--------------------------------------------------+
|  Lifecycle Environment Status                     |
+--------------------------------------------------+
|  Status: deploying                               |
|  Services: frontend                              |
|  Dashboard: [link]                               |
+--------------------------------------------------+
```

The comment provides:

- **Build/deploy status** - Current state of your environment
- **Service list** - All configured services
- **Dashboard link** - Access logs, deployments, and details

<Callout type="info">
  **Auto-deploy enabled?** If `autoDeploy: true` in your `lifecycle.yaml`, deployment starts automatically when you open the PR.

**Auto-deploy disabled?** Add the `lifecycle-deploy!` label to your PR to trigger deployment.

</Callout>

**Optional**: Add the `lifecycle-status-comments!` label for detailed status updates including environment URLs and telemetry links.

</Steps>

---

## Environment States

Track your environment through these build statuses:

| Status         | Description                            |
| -------------- | -------------------------------------- |
| `queued`       | Build waiting to be processed          |
| `pending`      | Build being prepared                   |
| `building`     | Docker images being built              |
| `built`        | All images built successfully          |
| `deploying`    | Services deploying to Kubernetes       |
| `deployed`     | Environment live and accessible        |
| `error`        | Build or deploy failed                 |
| `config_error` | Invalid `lifecycle.yaml` configuration |

---

## Access Your Application

Once status shows `deployed`, click the **frontend** link in the Lifecycle PR comment to open your application.

The example application includes two pages:

| Page         | Description                              |
| ------------ | ---------------------------------------- |
| `/tasks`     | Simple to-do list demo                   |
| `/variables` | Displays container environment variables |

---

## Troubleshooting

### No Lifecycle comment on PR

**Problem**: No comment appears after opening the pull request.

**Solution**: The GitHub App may not be configured correctly.

- Verify the app is installed on the repository
- Check webhook delivery in GitHub App settings
- See [Missing Comment Troubleshooting](/docs/troubleshooting/github-app-webhooks)

### Build or deploy errors

**Problem**: Status shows `error` and environment is not created.

**Solution**: Check the worker logs for details:

```sh
kubectl logs deploy/lifecycle-worker -n lifecycle-app -f
```

Common causes:

- Invalid Dockerfile or build configuration
- Missing environment variables
- Resource constraints in the cluster

### Environment stuck in `pending` or `building`

**Problem**: Status does not progress past initial states.

**Solution**:

- Verify your Kubernetes cluster has available resources
- Check that the Lifecycle worker pods are running
- Review worker logs for queue processing issues

---

## What Happens on New Commits?

When you push new commits to your PR branch, Lifecycle automatically:

1. Detects the change via GitHub webhook
2. Rebuilds affected Docker images
3. Redeploys updated services
4. Updates the PR comment with new status

Your environment always reflects the latest code in your PR.

---

## Next Steps

Your first ephemeral environment is running. Continue to:

- [Explore Environment](/docs/getting-started/explore-environment) - View logs, test services, and navigate the dashboard
- [Configure Environment](/docs/getting-started/configure-environment) - Customize your `lifecycle.yaml` configuration
- [Delete Environment](/docs/getting-started/delete-environment) - Clean up when you are done
