---
title: Prerequisites
tags:
  - requirements
  - prerequisites
  - setup
---

import { Callout } from "nextra/components";
import { Tabs } from "nextra/components";
import { Info } from "lucide-react";
import { Mermaid } from "@lifecycle-docs/components";

## Quick Reference

| Requirement         | Options                  | Install/Sign Up                                                                                                                                     |
| ------------------- | ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| **GitHub Account**  | Personal or Organization | [github.com/join](https://github.com/join)                                                                                                          |
| **Cloud Provider**  | GKE or AWS               | [Google Cloud](https://cloud.google.com) / [AWS](https://aws.amazon.com/)                                                                           |
| **CLI: OpenTofu**   | Infrastructure as code   | [opentofu.org](https://opentofu.org/docs/intro/install/)                                                                                            |
| **CLI: kubectl**    | Kubernetes management    | [kubernetes.io](https://kubernetes.io/docs/tasks/tools/#kubectl)                                                                                    |
| **CLI: Helm**       | K8s package manager      | [helm.sh](https://helm.sh/docs/intro/install/)                                                                                                      |
| **CLI: gcloud/aws** | Cloud provider CLI       | [gcloud](https://formulae.brew.sh/cask/google-cloud-sdk) / [aws-cli](https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html) |
| **Custom Domain**   | With wildcard support    | Your registrar                                                                                                                                      |

<Callout icon={Info}>
  Use an isolated cloud project/account for this setup to keep resources
  organized.
</Callout>

## Domain Requirements

Your domain (e.g., `0env.com`) must support wildcard DNS records (e.g., `*.0env.com`).

**Used for:**

- GitHub App webhook/callback URLs
- Kubernetes ingress routing
- HTTPS/TLS certificates

<Mermaid chart={`
flowchart LR
    subgraph DNS["DNS Architecture"]
        wildcard["*.0env.com"]
        lifecycle["lifecycle.0env.com<br/>(Lifecycle App)"]
        pr123["pr-123.0env.com<br/>(Ephemeral Env)"]
        pr456["pr-456.0env.com<br/>(Ephemeral Env)"]

        wildcard --> lifecycle
        wildcard --> pr123
        wildcard --> pr456
    end

`} />

## DNS Provider Setup

<Tabs items={["Google Cloud DNS", "AWS Route 53", "Cloudflare"]}>

<Tabs.Tab>
### Option 1: Console

1. Go to [Google Cloud DNS](https://cloud.google.com/dns)
2. [Create a public DNS zone](https://cloud.google.com/dns/docs/zones#create-pub-zone)
3. Wildcard records are created automatically by OpenTofu modules

### Option 2: CLI

```sh
# Set project and authenticate
gcloud config set project <PROJECT_ID>
gcloud auth application-default login

# Enable DNS API and create zone
gcloud services enable dns.googleapis.com --project=<PROJECT_ID>
gcloud dns --project=<PROJECT_ID> managed-zones create <DNS_ZONE_NAME> \
  --description="Lifecycle OSS starter DNS public zone" \
  --dns-name="<YOUR_DOMAIN>." \
  --visibility="public" \
  --dnssec-state="off"
```

Update your registrar's NS records with the values from Google Cloud Console.

</Tabs.Tab>

<Tabs.Tab>
### Option 1: Console

1. Authenticate with AWS CLI: `aws configure`
2. [Provision wildcard subdomain](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/CreatingNewSubdomain.html) (e.g., `*.lifecycle.<your-domain>.com`)

### Option 2: CLI

```sh
aws configure
```

```sh
aws route53 change-resource-record-sets --hosted-zone-id <hosted-zone> --change-batch '{
  "Comment": "CREATE wildcard for <your-domain>",
  "Changes": [{
    "Action": "CREATE",
    "ResourceRecordSet": {
      "Name": "<subdomain>.<your-domain>.com",
      "Type": "A",
      "TTL": 300,
      "ResourceRecords": [{ "Value": "<your-ip-address>" }]
    }
  }]
}'
```

</Tabs.Tab>

<Tabs.Tab>
Use Cloudflare as your authoritative DNS (full setup required).

Follow the [Cloudflare full setup guide](https://developers.cloudflare.com/dns/zone-setups/full-setup/setup/).

</Tabs.Tab>

</Tabs>

## Troubleshooting

| Problem              | Solution                                                                          |
| -------------------- | --------------------------------------------------------------------------------- |
| DNS not resolving    | Verify NS records at registrar point to your DNS provider                         |
| Propagation delay    | Wait up to 48 hours; check status at [dnschecker.org](https://dnschecker.org/#NS) |
| Wildcard not working | Ensure `*.<domain>` record exists in your DNS zone                                |

## Checklist

- [ ] GitHub account created
- [ ] Cloud provider account set up (isolated project recommended)
- [ ] CLI tools installed: OpenTofu, kubectl, Helm, gcloud/aws-cli
- [ ] Custom domain registered
- [ ] DNS zone created with wildcard support
- [ ] NS records updated at registrar
- [ ] DNS propagation verified at [dnschecker.org](https://dnschecker.org/#NS)
