(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3009],{2826:(e,n,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/schema/github",function(){return i(9311)}])},9311:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>l,useTOC:()=>a});var t=i(7876),r=i(1807),s=i(1781),d=i(1513),o=i(5044);function a(e){return[{value:"Examples",id:"examples",depth:2},{value:"Docker Configuration",id:"docker-configuration",depth:2},{value:"docker.defaultTag",id:"dockerdefaulttag",depth:3},{value:"docker.builder",id:"dockerbuilder",depth:3},{value:"docker.app (Required)",id:"dockerapp-required",depth:3},{value:"docker.init (Optional)",id:"dockerinit-optional",depth:3},{value:"Deployment Options",id:"deployment-options",depth:2},{value:"public",id:"public",depth:3},{value:"capacityType",id:"capacitytype",depth:3},{value:"resource",id:"resource",depth:3},{value:"readiness",id:"readiness",depth:3},{value:"hostnames",id:"hostnames",depth:3},{value:"network",id:"network",depth:3},{value:"serviceDisks",id:"servicedisks",depth:3},{value:"Fields Reference",id:"fields-reference",depth:2},{value:"Required Fields",id:"required-fields",depth:3},{value:"Optional Fields",id:"optional-fields",depth:3},{value:"Template Variables",id:"template-variables",depth:2}]}function c(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}let l=(0,r.e)(function(e){let{toc:n=a(e)}=e,i={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components},{Code:r}=i;return r||c("Code",!0),o.t||c("Tabs",!1),o.t.Tab||c("Tabs.Tab",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"github"})," service type builds and deploys applications from a GitHub repository using a Dockerfile. This is the most common service type for application code that needs to be built from source."]}),"\n",(0,t.jsx)(i.h2,{id:n[0].id,children:n[0].value}),"\n",(0,t.jsxs)(o.t,{items:["Minimal","With Deployment Options","Complete"],children:[(0,t.jsxs)(o.t.Tab,{children:[(0,t.jsx)(i.p,{children:"Minimal configuration with only required fields:"}),(0,t.jsx)(r,{codeblock:{value:'services:\n  - name: "api"\n    github:\n      repository: "myorg/api" # Required - GitHub repo in owner/repo format\n      branchName: "main" # Required - default branch to build\n      docker: # Required - Docker build configuration\n        defaultTag: "main" # Required - image tag, typically matches branch\n        app: # Required - main application container\n          dockerfilePath: "Dockerfile" # Required - path to Dockerfile\n          ports:\n            - 3000',lang:"yaml",meta:'filename="lifecycle.yaml"',code:'services:\n  - name: "api"\n    github:\n      repository: "myorg/api" # Required - GitHub repo in owner/repo format\n      branchName: "main" # Required - default branch to build\n      docker: # Required - Docker build configuration\n        defaultTag: "main" # Required - image tag, typically matches branch\n        app: # Required - main application container\n          dockerfilePath: "Dockerfile" # Required - path to Dockerfile\n          ports:\n            - 3000',tokens:[["services","#7EE787"],[":","#C9D1D9"],"\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"api"',"#A5D6FF"],"\n    ",["github","#7EE787"],[":","#C9D1D9"],"\n      ",["repository","#7EE787"],[":","#C9D1D9"]," ",['"myorg/api"',"#A5D6FF"]," ",["# Required - GitHub repo in owner/repo format","#8B949E"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"]," ",["# Required - default branch to build","#8B949E"],"\n      ",["docker","#7EE787"],[":","#C9D1D9"]," ",["# Required - Docker build configuration","#8B949E"],"\n        ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"]," ",["# Required - image tag, typically matches branch","#8B949E"],"\n        ",["app","#7EE787"],[":","#C9D1D9"]," ",["# Required - main application container","#8B949E"],"\n          ",["dockerfilePath","#7EE787"],[":","#C9D1D9"]," ",['"Dockerfile"',"#A5D6FF"]," ",["# Required - path to Dockerfile","#8B949E"],"\n          ",["ports","#7EE787"],[":","#C9D1D9"],"\n            ",["-","#C9D1D9"]," ",["3000","#79C0FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}})]}),(0,t.jsxs)(o.t.Tab,{children:[(0,t.jsx)(i.p,{children:"Configuration with deployment options:"}),(0,t.jsx)(r,{codeblock:{value:'services:\n  - name: "api"\n    github:\n      repository: "myorg/api"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        builder:\n          engine: "buildkit" # Options: buildkit (default), codefresh, kaniko\n        app:\n          dockerfilePath: "Dockerfile"\n          env:\n            NODE_ENV: "production"\n            LOG_LEVEL: "info"\n          ports:\n            - 3000\n      deployment:\n        public: true # Creates ingress for external access\n        resource: # Custom CPU/memory allocation\n          cpu:\n            request: "100m"\n            limit: "500m"\n          memory:\n            request: "256Mi"\n            limit: "512Mi"\n        readiness: # Health check configuration\n          httpGet:\n            path: "/health"\n            port: 3000\n          initialDelaySeconds: 10\n          periodSeconds: 5',lang:"yaml",meta:'filename="lifecycle.yaml"',code:'services:\n  - name: "api"\n    github:\n      repository: "myorg/api"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        builder:\n          engine: "buildkit" # Options: buildkit (default), codefresh, kaniko\n        app:\n          dockerfilePath: "Dockerfile"\n          env:\n            NODE_ENV: "production"\n            LOG_LEVEL: "info"\n          ports:\n            - 3000\n      deployment:\n        public: true # Creates ingress for external access\n        resource: # Custom CPU/memory allocation\n          cpu:\n            request: "100m"\n            limit: "500m"\n          memory:\n            request: "256Mi"\n            limit: "512Mi"\n        readiness: # Health check configuration\n          httpGet:\n            path: "/health"\n            port: 3000\n          initialDelaySeconds: 10\n          periodSeconds: 5',tokens:[["services","#7EE787"],[":","#C9D1D9"],"\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"api"',"#A5D6FF"],"\n    ",["github","#7EE787"],[":","#C9D1D9"],"\n      ",["repository","#7EE787"],[":","#C9D1D9"]," ",['"myorg/api"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n      ",["docker","#7EE787"],[":","#C9D1D9"],"\n        ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n        ",["builder","#7EE787"],[":","#C9D1D9"],"\n          ",["engine","#7EE787"],[":","#C9D1D9"]," ",['"buildkit"',"#A5D6FF"]," ",["# Options: buildkit (default), codefresh, kaniko","#8B949E"],"\n        ",["app","#7EE787"],[":","#C9D1D9"],"\n          ",["dockerfilePath","#7EE787"],[":","#C9D1D9"]," ",['"Dockerfile"',"#A5D6FF"],"\n          ",["env","#7EE787"],[":","#C9D1D9"],"\n            ",["NODE_ENV","#7EE787"],[":","#C9D1D9"]," ",['"production"',"#A5D6FF"],"\n            ",["LOG_LEVEL","#7EE787"],[":","#C9D1D9"]," ",['"info"',"#A5D6FF"],"\n          ",["ports","#7EE787"],[":","#C9D1D9"],"\n            ",["-","#C9D1D9"]," ",["3000","#79C0FF"],"\n      ",["deployment","#7EE787"],[":","#C9D1D9"],"\n        ",["public","#7EE787"],[":","#C9D1D9"]," ",["true","#79C0FF"]," ",["# Creates ingress for external access","#8B949E"],"\n        ",["resource","#7EE787"],[":","#C9D1D9"]," ",["# Custom CPU/memory allocation","#8B949E"],"\n          ",["cpu","#7EE787"],[":","#C9D1D9"],"\n            ",["request","#7EE787"],[":","#C9D1D9"]," ",['"100m"',"#A5D6FF"],"\n            ",["limit","#7EE787"],[":","#C9D1D9"]," ",['"500m"',"#A5D6FF"],"\n          ",["memory","#7EE787"],[":","#C9D1D9"],"\n            ",["request","#7EE787"],[":","#C9D1D9"]," ",['"256Mi"',"#A5D6FF"],"\n            ",["limit","#7EE787"],[":","#C9D1D9"]," ",['"512Mi"',"#A5D6FF"],"\n        ",["readiness","#7EE787"],[":","#C9D1D9"]," ",["# Health check configuration","#8B949E"],"\n          ",["httpGet","#7EE787"],[":","#C9D1D9"],"\n            ",["path","#7EE787"],[":","#C9D1D9"]," ",['"/health"',"#A5D6FF"],"\n            ",["port","#7EE787"],[":","#C9D1D9"]," ",["3000","#79C0FF"],"\n          ",["initialDelaySeconds","#7EE787"],[":","#C9D1D9"]," ",["10","#79C0FF"],"\n          ",["periodSeconds","#7EE787"],[":","#C9D1D9"]," ",["5","#79C0FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}})]}),(0,t.jsxs)(o.t.Tab,{children:[(0,t.jsx)(i.p,{children:"Complete configuration with all options:"}),(0,t.jsx)(r,{codeblock:{value:'services:\n  - name: "api"\n    github:\n      repository: "myorg/api"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        builder:\n          engine: "buildkit" # Options: buildkit (default), codefresh, kaniko\n        # Init container - runs before main application (optional)\n        init:\n          dockerfilePath: "docker/migrate.dockerfile"\n          command: "/bin/sh"\n          arguments: "-c%%SPLIT%%npm run db:migrate" # Use %%SPLIT%% for spaces in arguments\n          env:\n            DATABASE_URL: "postgres://{{database_internalHostname}}:5432/app"\n        # Main application container (required)\n        app:\n          dockerfilePath: "Dockerfile"\n          command: "node" # Optional - override entrypoint\n          arguments: "dist/main.js" # Optional - arguments to command\n          env:\n            NODE_ENV: "production"\n            DATABASE_URL: "postgres://{{database_internalHostname}}:5432/app"\n            REDIS_URL: "redis://{{cache_internalHostname}}:6379"\n          ports:\n            - 3000\n            - 9090\n      deployment:\n        public: true # true = creates ingress, false = internal only\n        capacityType: "spot" # Options: spot, on-demand\n        resource: # Custom CPU/memory requests and limits\n          cpu:\n            request: "100m"\n            limit: "1000m"\n          memory:\n            request: "256Mi"\n            limit: "1Gi"\n        readiness: # Health check - httpGet or tcpSocketPort\n          httpGet:\n            path: "/health"\n            port: 3000\n          initialDelaySeconds: 15 # Delay before first check\n          periodSeconds: 10 # Check interval\n          timeoutSeconds: 5 # Check timeout\n          failureThreshold: 3 # Failures before unhealthy\n        hostnames: # Optional - auto-constructed from global_config if omitted\n          host: "api.example.com"\n          defaultPublicUrl: "api.myapp.example.com"\n        network: # Optional - advanced routing\n          ipWhitelist:\n            - "10.0.0.0/8"\n          pathPortMapping: # Map URL paths to container ports\n            "/api": 3000\n            "/metrics": 9090\n          grpc: # gRPC support\n            enable: true\n            host: "grpc.api.example.com"\n        serviceDisks: # Optional - persistent volume mounts\n          - name: "uploads" # Required - volume name\n            mountPath: "/app/uploads" # Required - path in container\n            storageSize: "5Gi" # Required - storage size\n            accessModes: "ReadWriteOnce" # Optional - ReadWriteOnce or ReadWriteMany',lang:"yaml",meta:'filename="lifecycle.yaml"',code:'services:\n  - name: "api"\n    github:\n      repository: "myorg/api"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        builder:\n          engine: "buildkit" # Options: buildkit (default), codefresh, kaniko\n        # Init container - runs before main application (optional)\n        init:\n          dockerfilePath: "docker/migrate.dockerfile"\n          command: "/bin/sh"\n          arguments: "-c%%SPLIT%%npm run db:migrate" # Use %%SPLIT%% for spaces in arguments\n          env:\n            DATABASE_URL: "postgres://{{database_internalHostname}}:5432/app"\n        # Main application container (required)\n        app:\n          dockerfilePath: "Dockerfile"\n          command: "node" # Optional - override entrypoint\n          arguments: "dist/main.js" # Optional - arguments to command\n          env:\n            NODE_ENV: "production"\n            DATABASE_URL: "postgres://{{database_internalHostname}}:5432/app"\n            REDIS_URL: "redis://{{cache_internalHostname}}:6379"\n          ports:\n            - 3000\n            - 9090\n      deployment:\n        public: true # true = creates ingress, false = internal only\n        capacityType: "spot" # Options: spot, on-demand\n        resource: # Custom CPU/memory requests and limits\n          cpu:\n            request: "100m"\n            limit: "1000m"\n          memory:\n            request: "256Mi"\n            limit: "1Gi"\n        readiness: # Health check - httpGet or tcpSocketPort\n          httpGet:\n            path: "/health"\n            port: 3000\n          initialDelaySeconds: 15 # Delay before first check\n          periodSeconds: 10 # Check interval\n          timeoutSeconds: 5 # Check timeout\n          failureThreshold: 3 # Failures before unhealthy\n        hostnames: # Optional - auto-constructed from global_config if omitted\n          host: "api.example.com"\n          defaultPublicUrl: "api.myapp.example.com"\n        network: # Optional - advanced routing\n          ipWhitelist:\n            - "10.0.0.0/8"\n          pathPortMapping: # Map URL paths to container ports\n            "/api": 3000\n            "/metrics": 9090\n          grpc: # gRPC support\n            enable: true\n            host: "grpc.api.example.com"\n        serviceDisks: # Optional - persistent volume mounts\n          - name: "uploads" # Required - volume name\n            mountPath: "/app/uploads" # Required - path in container\n            storageSize: "5Gi" # Required - storage size\n            accessModes: "ReadWriteOnce" # Optional - ReadWriteOnce or ReadWriteMany',tokens:[["services","#7EE787"],[":","#C9D1D9"],"\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"api"',"#A5D6FF"],"\n    ",["github","#7EE787"],[":","#C9D1D9"],"\n      ",["repository","#7EE787"],[":","#C9D1D9"]," ",['"myorg/api"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n      ",["docker","#7EE787"],[":","#C9D1D9"],"\n        ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n        ",["builder","#7EE787"],[":","#C9D1D9"],"\n          ",["engine","#7EE787"],[":","#C9D1D9"]," ",['"buildkit"',"#A5D6FF"]," ",["# Options: buildkit (default), codefresh, kaniko","#8B949E"],"\n        ",["# Init container - runs before main application (optional)","#8B949E"],"\n        ",["init","#7EE787"],[":","#C9D1D9"],"\n          ",["dockerfilePath","#7EE787"],[":","#C9D1D9"]," ",['"docker/migrate.dockerfile"',"#A5D6FF"],"\n          ",["command","#7EE787"],[":","#C9D1D9"]," ",['"/bin/sh"',"#A5D6FF"],"\n          ",["arguments","#7EE787"],[":","#C9D1D9"]," ",['"-c%%SPLIT%%npm run db:migrate"',"#A5D6FF"]," ",["# Use %%SPLIT%% for spaces in arguments","#8B949E"],"\n          ",["env","#7EE787"],[":","#C9D1D9"],"\n            ",["DATABASE_URL","#7EE787"],[":","#C9D1D9"]," ",['"postgres://{{database_internalHostname}}:5432/app"',"#A5D6FF"],"\n        ",["# Main application container (required)","#8B949E"],"\n        ",["app","#7EE787"],[":","#C9D1D9"],"\n          ",["dockerfilePath","#7EE787"],[":","#C9D1D9"]," ",['"Dockerfile"',"#A5D6FF"],"\n          ",["command","#7EE787"],[":","#C9D1D9"]," ",['"node"',"#A5D6FF"]," ",["# Optional - override entrypoint","#8B949E"],"\n          ",["arguments","#7EE787"],[":","#C9D1D9"]," ",['"dist/main.js"',"#A5D6FF"]," ",["# Optional - arguments to command","#8B949E"],"\n          ",["env","#7EE787"],[":","#C9D1D9"],"\n            ",["NODE_ENV","#7EE787"],[":","#C9D1D9"]," ",['"production"',"#A5D6FF"],"\n            ",["DATABASE_URL","#7EE787"],[":","#C9D1D9"]," ",['"postgres://{{database_internalHostname}}:5432/app"',"#A5D6FF"],"\n            ",["REDIS_URL","#7EE787"],[":","#C9D1D9"]," ",['"redis://{{cache_internalHostname}}:6379"',"#A5D6FF"],"\n          ",["ports","#7EE787"],[":","#C9D1D9"],"\n            ",["-","#C9D1D9"]," ",["3000","#79C0FF"],"\n            ",["-","#C9D1D9"]," ",["9090","#79C0FF"],"\n      ",["deployment","#7EE787"],[":","#C9D1D9"],"\n        ",["public","#7EE787"],[":","#C9D1D9"]," ",["true","#79C0FF"]," ",["# true = creates ingress, false = internal only","#8B949E"],"\n        ",["capacityType","#7EE787"],[":","#C9D1D9"]," ",['"spot"',"#A5D6FF"]," ",["# Options: spot, on-demand","#8B949E"],"\n        ",["resource","#7EE787"],[":","#C9D1D9"]," ",["# Custom CPU/memory requests and limits","#8B949E"],"\n          ",["cpu","#7EE787"],[":","#C9D1D9"],"\n            ",["request","#7EE787"],[":","#C9D1D9"]," ",['"100m"',"#A5D6FF"],"\n            ",["limit","#7EE787"],[":","#C9D1D9"]," ",['"1000m"',"#A5D6FF"],"\n          ",["memory","#7EE787"],[":","#C9D1D9"],"\n            ",["request","#7EE787"],[":","#C9D1D9"]," ",['"256Mi"',"#A5D6FF"],"\n            ",["limit","#7EE787"],[":","#C9D1D9"]," ",['"1Gi"',"#A5D6FF"],"\n        ",["readiness","#7EE787"],[":","#C9D1D9"]," ",["# Health check - httpGet or tcpSocketPort","#8B949E"],"\n          ",["httpGet","#7EE787"],[":","#C9D1D9"],"\n            ",["path","#7EE787"],[":","#C9D1D9"]," ",['"/health"',"#A5D6FF"],"\n            ",["port","#7EE787"],[":","#C9D1D9"]," ",["3000","#79C0FF"],"\n          ",["initialDelaySeconds","#7EE787"],[":","#C9D1D9"]," ",["15","#79C0FF"]," ",["# Delay before first check","#8B949E"],"\n          ",["periodSeconds","#7EE787"],[":","#C9D1D9"]," ",["10","#79C0FF"]," ",["# Check interval","#8B949E"],"\n          ",["timeoutSeconds","#7EE787"],[":","#C9D1D9"]," ",["5","#79C0FF"]," ",["# Check timeout","#8B949E"],"\n          ",["failureThreshold","#7EE787"],[":","#C9D1D9"]," ",["3","#79C0FF"]," ",["# Failures before unhealthy","#8B949E"],"\n        ",["hostnames","#7EE787"],[":","#C9D1D9"]," ",["# Optional - auto-constructed from global_config if omitted","#8B949E"],"\n          ",["host","#7EE787"],[":","#C9D1D9"]," ",['"api.example.com"',"#A5D6FF"],"\n          ",["defaultPublicUrl","#7EE787"],[":","#C9D1D9"]," ",['"api.myapp.example.com"',"#A5D6FF"],"\n        ",["network","#7EE787"],[":","#C9D1D9"]," ",["# Optional - advanced routing","#8B949E"],"\n          ",["ipWhitelist","#7EE787"],[":","#C9D1D9"],"\n            ",["-","#C9D1D9"]," ",['"10.0.0.0/8"',"#A5D6FF"],"\n          ",["pathPortMapping","#7EE787"],[":","#C9D1D9"]," ",["# Map URL paths to container ports","#8B949E"],"\n            ",['"/api"',"#A5D6FF"],[":","#C9D1D9"]," ",["3000","#79C0FF"],"\n            ",['"/metrics"',"#A5D6FF"],[":","#C9D1D9"]," ",["9090","#79C0FF"],"\n          ",["grpc","#7EE787"],[":","#C9D1D9"]," ",["# gRPC support","#8B949E"],"\n            ",["enable","#7EE787"],[":","#C9D1D9"]," ",["true","#79C0FF"],"\n            ",["host","#7EE787"],[":","#C9D1D9"]," ",['"grpc.api.example.com"',"#A5D6FF"],"\n        ",["serviceDisks","#7EE787"],[":","#C9D1D9"]," ",["# Optional - persistent volume mounts","#8B949E"],"\n          ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"uploads"',"#A5D6FF"]," ",["# Required - volume name","#8B949E"],"\n            ",["mountPath","#7EE787"],[":","#C9D1D9"]," ",['"/app/uploads"',"#A5D6FF"]," ",["# Required - path in container","#8B949E"],"\n            ",["storageSize","#7EE787"],[":","#C9D1D9"]," ",['"5Gi"',"#A5D6FF"]," ",["# Required - storage size","#8B949E"],"\n            ",["accessModes","#7EE787"],[":","#C9D1D9"]," ",['"ReadWriteOnce"',"#A5D6FF"]," ",["# Optional - ReadWriteOnce or ReadWriteMany","#8B949E"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}})]})]}),"\n",(0,t.jsx)(i.h2,{id:n[1].id,children:n[1].value}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"docker"})," section defines how the application is built and run."]}),"\n",(0,t.jsx)(i.h3,{id:n[2].id,children:n[2].value}),"\n",(0,t.jsx)(i.p,{children:"The default Docker image tag, typically matching the branch name."}),"\n",(0,t.jsx)(i.h3,{id:n[3].id,children:n[3].value}),"\n",(0,t.jsxs)(i.p,{children:["Configuration for the Docker build process. The ",(0,t.jsx)(i.code,{children:"engine"})," field specifies which build engine to use:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"buildkit"})," - BuildKit engine (default)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"codefresh"})," - Codefresh build engine"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"kaniko"})," - Kaniko build engine"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:n[4].id,children:n[4].value}),"\n",(0,t.jsx)(i.p,{children:"Configuration for the main application container:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"dockerfilePath"})," - ",(0,t.jsx)(i.strong,{children:"Required."})," Path to Dockerfile relative to repo root"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"command"})," - Override container entrypoint"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"arguments"})," - Arguments passed to the command. Use ",(0,t.jsx)(i.code,{children:"%%SPLIT%%"})," as a delimiter for spaces (e.g., ",(0,t.jsx)(i.code,{children:"-c%%SPLIT%%npm run start"}),")"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"env"})," - Environment variables"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"ports"})," - Exposed container ports"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:n[5].id,children:n[5].value}),"\n",(0,t.jsxs)(i.p,{children:["Configuration for an init container that runs before the main application. Uses the same fields as ",(0,t.jsx)(i.code,{children:"docker.app"}),"."]}),"\n",(0,t.jsx)(i.h2,{id:n[6].id,children:n[6].value}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"deployment"})," section configures how the service is deployed to Kubernetes. All fields are optional."]}),"\n",(0,t.jsx)(i.h3,{id:n[7].id,children:n[7].value}),"\n",(0,t.jsx)(i.p,{children:"Controls whether the service is exposed via ingress for external access."}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"true"})," - Creates an ingress, service gets a public URL"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"false"})," - Internal only, accessible only within the cluster"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:n[8].id,children:n[8].value}),"\n",(0,t.jsx)(i.p,{children:"Specifies the node capacity type for scheduling:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"spot"})," - Use spot/preemptible instances (cost-effective)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"on-demand"})," - Use on-demand instances (more reliable)"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:n[9].id,children:n[9].value}),"\n",(0,t.jsx)(i.p,{children:"CPU and memory requests and limits for the container:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"cpu.request"})}),(0,t.jsxs)(i.td,{children:["Minimum CPU guaranteed (e.g., ",(0,t.jsx)(i.code,{children:"100m"}),")"]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"cpu.limit"})}),(0,t.jsxs)(i.td,{children:["Maximum CPU allowed (e.g., ",(0,t.jsx)(i.code,{children:"1000m"}),")"]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"memory.request"})}),(0,t.jsxs)(i.td,{children:["Minimum memory guaranteed (e.g., ",(0,t.jsx)(i.code,{children:"256Mi"}),")"]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"memory.limit"})}),(0,t.jsxs)(i.td,{children:["Maximum memory allowed (e.g., ",(0,t.jsx)(i.code,{children:"1Gi"}),")"]})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:n[10].id,children:n[10].value}),"\n",(0,t.jsx)(i.p,{children:"Health check configuration to determine when the service is ready to receive traffic."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"HTTP health check:"})}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"httpGet.path"})}),(0,t.jsxs)(i.td,{children:["HTTP endpoint path (e.g., ",(0,t.jsx)(i.code,{children:"/health"}),")"]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"httpGet.port"})}),(0,t.jsx)(i.td,{children:"Port to check"})]})]})]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"TCP health check:"})}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsx)(i.tbody,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"tcpSocketPort"})}),(0,t.jsx)(i.td,{children:"TCP port to check connectivity"})]})})]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Common fields:"})}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"initialDelaySeconds"})}),(0,t.jsx)(i.td,{children:"Delay before first check"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"periodSeconds"})}),(0,t.jsx)(i.td,{children:"Interval between checks"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"timeoutSeconds"})}),(0,t.jsx)(i.td,{children:"Timeout for each check"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"successThreshold"})}),(0,t.jsx)(i.td,{children:"Consecutive successes to be healthy"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"failureThreshold"})}),(0,t.jsx)(i.td,{children:"Consecutive failures to be unhealthy"})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:n[11].id,children:n[11].value}),"\n",(0,t.jsxs)(i.p,{children:["Custom hostname configuration. If omitted, hostnames are auto-constructed from ",(0,t.jsx)(i.code,{children:"global_config"})," values."]}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"host"})}),(0,t.jsx)(i.td,{children:"Custom hostname suffix"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"defaultInternalHostname"})}),(0,t.jsx)(i.td,{children:"Internal Kubernetes hostname"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"defaultPublicUrl"})}),(0,t.jsx)(i.td,{children:"Default public URL"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"acmARN"})}),(0,t.jsx)(i.td,{children:"AWS ACM certificate ARN for TLS"})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:n[12].id,children:n[12].value}),"\n",(0,t.jsx)(i.p,{children:"Advanced network configuration:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"ipWhitelist"})}),(0,t.jsx)(i.td,{children:"Array of allowed IP ranges (CIDR notation)"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"pathPortMapping"})}),(0,t.jsx)(i.td,{children:"Map URL paths to container ports"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"hostPortMapping"})}),(0,t.jsx)(i.td,{children:"Map hostnames to container ports"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"grpc.enable"})}),(0,t.jsx)(i.td,{children:"Enable gRPC support"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"grpc.host"})}),(0,t.jsx)(i.td,{children:"gRPC hostname"})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:n[13].id,children:n[13].value}),"\n",(0,t.jsx)(i.p,{children:"Persistent volume mounts for stateful data:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Required"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"name"})}),(0,t.jsx)(i.td,{children:"Yes"}),(0,t.jsx)(i.td,{children:"Volume name"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"mountPath"})}),(0,t.jsx)(i.td,{children:"Yes"}),(0,t.jsx)(i.td,{children:"Path inside the container"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"storageSize"})}),(0,t.jsx)(i.td,{children:"Yes"}),(0,t.jsxs)(i.td,{children:["Storage size (e.g., ",(0,t.jsx)(i.code,{children:"10Gi"}),")"]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"accessModes"})}),(0,t.jsx)(i.td,{children:"No"}),(0,t.jsxs)(i.td,{children:[(0,t.jsx)(i.code,{children:"ReadWriteOnce"})," or ",(0,t.jsx)(i.code,{children:"ReadWriteMany"})]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"medium"})}),(0,t.jsx)(i.td,{children:"No"}),(0,t.jsx)(i.td,{children:"Storage medium"})]})]})]}),"\n",(0,t.jsx)(i.h2,{id:n[14].id,children:n[14].value}),"\n",(0,t.jsx)(i.h3,{id:n[15].id,children:n[15].value}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"repository"})}),(0,t.jsx)(i.td,{children:"string"}),(0,t.jsxs)(i.td,{children:["GitHub repository in ",(0,t.jsx)(i.code,{children:"owner/repo"})," format"]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"branchName"})}),(0,t.jsx)(i.td,{children:"string"}),(0,t.jsx)(i.td,{children:"Branch to build from"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"docker"})}),(0,t.jsx)(i.td,{children:"object"}),(0,t.jsx)(i.td,{children:"Docker build configuration (see above)"})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:n[16].id,children:n[16].value}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"deployment"})}),(0,t.jsx)(i.td,{children:"object"}),(0,t.jsx)(i.td,{children:"Deployment configuration (see above)"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"envLens"})}),(0,t.jsx)(i.td,{children:"boolean"}),(0,t.jsx)(i.td,{children:"Enable environment lens ingress banner"})]})]})]}),"\n",(0,t.jsx)(i.h2,{id:n[17].id,children:n[17].value}),"\n",(0,t.jsxs)(i.p,{children:["Reference other services in your configuration using template variables. See the ",(0,t.jsx)(i.a,{href:"/docs/features/template-variables",children:"Template Variables"})," guide for the complete list."]}),"\n",(0,t.jsx)(r,{codeblock:{value:'env:\n  DATABASE_URL: "postgres://{{database_internalHostname}}:5432/app"\n  CACHE_URL: "redis://{{cache_internalHostname}}:6379"\n  FRONTEND_URL: "https://{{frontend_publicUrl}}"',lang:"yaml",meta:"",code:'env:\n  DATABASE_URL: "postgres://{{database_internalHostname}}:5432/app"\n  CACHE_URL: "redis://{{cache_internalHostname}}:6379"\n  FRONTEND_URL: "https://{{frontend_publicUrl}}"',tokens:[["env","#7EE787"],[":","#C9D1D9"],"\n  ",["DATABASE_URL","#7EE787"],[":","#C9D1D9"]," ",['"postgres://{{database_internalHostname}}:5432/app"',"#A5D6FF"],"\n  ",["CACHE_URL","#7EE787"],[":","#C9D1D9"]," ",['"redis://{{cache_internalHostname}}:6379"',"#A5D6FF"],"\n  ",["FRONTEND_URL","#7EE787"],[":","#C9D1D9"]," ",['"https://{{frontend_publicUrl}}"',"#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}})]})},"/docs/schema/github",{filePath:"src/pages/docs/schema/github.mdx",timestamp:1769102666e3,pageMap:s.O,frontMatter:{title:"GitHub Service",description:"Build and deploy services from GitHub repositories with Docker",tags:["schema","github","docker","deployment","build"]},title:"GitHub Service"},"undefined"==typeof RemoteContent?a:RemoteContent.useTOC)}},e=>{var n=n=>e(e.s=n);e.O(0,[1964,1781,636,6593,8792],()=>n(2826)),_N_E=e.O()}]);