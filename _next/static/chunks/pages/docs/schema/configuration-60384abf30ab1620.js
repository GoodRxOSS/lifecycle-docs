(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6618],{1513:(e,n,a)=>{"use strict";a.d(n,{R:()=>s});var r=a(91668),i=a(54587),t=a.n(i),o=a(14232);let c={img:e=>(0,o.createElement)("object"==typeof e.src?t():"img",e)},s=e=>(0,r.R)({...c,...e})},21112:(e,n,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/schema/configuration",function(){return a(38449)}])},38449:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>d,useTOC:()=>s});var r=a(37876),i=a(71807),t=a(1781),o=a(1513),c=a(19941);function s(e){return[{value:"Required Fields",id:"required-fields",depth:2},{value:"How It Works",id:"how-it-works",depth:2},{value:"Example",id:"example",depth:2},{value:"Use Cases",id:"use-cases",depth:2},{value:"Feature Flags",id:"feature-flags",depth:3},{value:"Shared Configuration",id:"shared-configuration",depth:3},{value:"Environment Metadata",id:"environment-metadata",depth:3}]}let d=(0,i.e)(function(e){let{toc:n=s(e)}=e,a={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components},{Code:i}=a;return i||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Code",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.p,{children:["The ",(0,r.jsx)(a.code,{children:"configuration"})," service type creates a configuration-only service that doesn’t deploy any containers. It’s useful for managing feature flags, shared configuration, or service metadata that other services can reference."]}),"\n",(0,r.jsx)(c.P,{type:"warning",children:(0,r.jsx)(a.p,{children:"This documentation is still in progress and will be updated shortly with the\nlatest information."})}),"\n",(0,r.jsx)(a.h2,{id:n[0].id,children:n[0].value}),"\n",(0,r.jsxs)(a.table,{children:[(0,r.jsx)(a.thead,{children:(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.th,{children:"Field"}),(0,r.jsx)(a.th,{children:"Type"}),(0,r.jsx)(a.th,{children:"Description"})]})}),(0,r.jsxs)(a.tbody,{children:[(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"defaultTag"})}),(0,r.jsx)(a.td,{children:"string"}),(0,r.jsx)(a.td,{children:"Configuration version tag"})]}),(0,r.jsxs)(a.tr,{children:[(0,r.jsx)(a.td,{children:(0,r.jsx)(a.code,{children:"branchName"})}),(0,r.jsx)(a.td,{children:"string"}),(0,r.jsx)(a.td,{children:"Branch name for configuration source"})]})]})]}),"\n",(0,r.jsx)(i,{codeblock:{value:'services:\n  - name: "config"\n    configuration:\n      defaultTag: "v1.0.0" # Required\n      branchName: "main" # Required',lang:"yaml",meta:'filename="lifecycle.yaml"',code:'services:\n  - name: "config"\n    configuration:\n      defaultTag: "v1.0.0" # Required\n      branchName: "main" # Required',tokens:[["services","#7EE787"],[":","#C9D1D9"],"\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"config"',"#A5D6FF"],"\n    ",["configuration","#7EE787"],[":","#C9D1D9"],"\n      ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"v1.0.0"',"#A5D6FF"]," ",["# Required","#8B949E"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"]," ",["# Required","#8B949E"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(a.h2,{id:n[1].id,children:n[1].value}),"\n",(0,r.jsx)(a.p,{children:"A configuration service:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"Does not deploy any containers or pods"}),"\n",(0,r.jsx)(a.li,{children:"Registers a service entry in Lifecycle for reference by other services"}),"\n",(0,r.jsx)(a.li,{children:"Provides a way to version and track configuration changes"}),"\n",(0,r.jsx)(a.li,{children:"Can be referenced by other services using template variables"}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:n[2].id,children:n[2].value}),"\n",(0,r.jsx)(i,{codeblock:{value:'environment:\n  defaultServices:\n    - name: "api"\n    - name: "feature-flags"\n\nservices:\n  - name: "api"\n    github:\n      repository: "myorg/api"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        app:\n          dockerfilePath: "Dockerfile"\n          env:\n            CONFIG_VERSION: "{{feature-flags_branchName}}"\n          ports:\n            - 3000\n\n  - name: "feature-flags"\n    configuration:\n      defaultTag: "v2.1.0"\n      branchName: "main"',lang:"yaml",meta:'filename="lifecycle.yaml"',code:'environment:\n  defaultServices:\n    - name: "api"\n    - name: "feature-flags"\n\nservices:\n  - name: "api"\n    github:\n      repository: "myorg/api"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        app:\n          dockerfilePath: "Dockerfile"\n          env:\n            CONFIG_VERSION: "{{feature-flags_branchName}}"\n          ports:\n            - 3000\n\n  - name: "feature-flags"\n    configuration:\n      defaultTag: "v2.1.0"\n      branchName: "main"',tokens:[["environment","#7EE787"],[":","#C9D1D9"],"\n  ",["defaultServices","#7EE787"],[":","#C9D1D9"],"\n    ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"api"',"#A5D6FF"],"\n    ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"feature-flags"',"#A5D6FF"],"\n\n",["services","#7EE787"],[":","#C9D1D9"],"\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"api"',"#A5D6FF"],"\n    ",["github","#7EE787"],[":","#C9D1D9"],"\n      ",["repository","#7EE787"],[":","#C9D1D9"]," ",['"myorg/api"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n      ",["docker","#7EE787"],[":","#C9D1D9"],"\n        ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n        ",["app","#7EE787"],[":","#C9D1D9"],"\n          ",["dockerfilePath","#7EE787"],[":","#C9D1D9"]," ",['"Dockerfile"',"#A5D6FF"],"\n          ",["env","#7EE787"],[":","#C9D1D9"],"\n            ",["CONFIG_VERSION","#7EE787"],[":","#C9D1D9"]," ",['"{{feature-flags_branchName}}"',"#A5D6FF"],"\n          ",["ports","#7EE787"],[":","#C9D1D9"],"\n            ",["-","#C9D1D9"]," ",["3000","#79C0FF"],"\n\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"feature-flags"',"#A5D6FF"],"\n    ",["configuration","#7EE787"],[":","#C9D1D9"],"\n      ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"v2.1.0"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(a.h2,{id:n[3].id,children:n[3].value}),"\n",(0,r.jsx)(a.h3,{id:n[4].id,children:n[4].value}),"\n",(0,r.jsx)(a.p,{children:"Track feature flag configuration versions:"}),"\n",(0,r.jsx)(i,{codeblock:{value:'services:\n  - name: "feature-flags"\n    configuration:\n      defaultTag: "2024.01.15"\n      branchName: "main"',lang:"yaml",meta:"",code:'services:\n  - name: "feature-flags"\n    configuration:\n      defaultTag: "2024.01.15"\n      branchName: "main"',tokens:[["services","#7EE787"],[":","#C9D1D9"],"\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"feature-flags"',"#A5D6FF"],"\n    ",["configuration","#7EE787"],[":","#C9D1D9"],"\n      ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"2024.01.15"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(a.h3,{id:n[5].id,children:n[5].value}),"\n",(0,r.jsx)(a.p,{children:"Reference shared configuration across services:"}),"\n",(0,r.jsx)(i,{codeblock:{value:'services:\n  - name: "shared-config"\n    configuration:\n      defaultTag: "v1.0.0"\n      branchName: "production"\n\n  - name: "api"\n    github:\n      repository: "myorg/api"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        app:\n          dockerfilePath: "Dockerfile"\n          env:\n            CONFIG_BRANCH: "{{shared-config_branchName}}"\n\n  - name: "worker"\n    github:\n      repository: "myorg/worker"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        app:\n          dockerfilePath: "Dockerfile"\n          env:\n            CONFIG_BRANCH: "{{shared-config_branchName}}"',lang:"yaml",meta:"",code:'services:\n  - name: "shared-config"\n    configuration:\n      defaultTag: "v1.0.0"\n      branchName: "production"\n\n  - name: "api"\n    github:\n      repository: "myorg/api"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        app:\n          dockerfilePath: "Dockerfile"\n          env:\n            CONFIG_BRANCH: "{{shared-config_branchName}}"\n\n  - name: "worker"\n    github:\n      repository: "myorg/worker"\n      branchName: "main"\n      docker:\n        defaultTag: "main"\n        app:\n          dockerfilePath: "Dockerfile"\n          env:\n            CONFIG_BRANCH: "{{shared-config_branchName}}"',tokens:[["services","#7EE787"],[":","#C9D1D9"],"\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"shared-config"',"#A5D6FF"],"\n    ",["configuration","#7EE787"],[":","#C9D1D9"],"\n      ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"v1.0.0"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"production"',"#A5D6FF"],"\n\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"api"',"#A5D6FF"],"\n    ",["github","#7EE787"],[":","#C9D1D9"],"\n      ",["repository","#7EE787"],[":","#C9D1D9"]," ",['"myorg/api"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n      ",["docker","#7EE787"],[":","#C9D1D9"],"\n        ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n        ",["app","#7EE787"],[":","#C9D1D9"],"\n          ",["dockerfilePath","#7EE787"],[":","#C9D1D9"]," ",['"Dockerfile"',"#A5D6FF"],"\n          ",["env","#7EE787"],[":","#C9D1D9"],"\n            ",["CONFIG_BRANCH","#7EE787"],[":","#C9D1D9"]," ",['"{{shared-config_branchName}}"',"#A5D6FF"],"\n\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"worker"',"#A5D6FF"],"\n    ",["github","#7EE787"],[":","#C9D1D9"],"\n      ",["repository","#7EE787"],[":","#C9D1D9"]," ",['"myorg/worker"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n      ",["docker","#7EE787"],[":","#C9D1D9"],"\n        ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"main"',"#A5D6FF"],"\n        ",["app","#7EE787"],[":","#C9D1D9"],"\n          ",["dockerfilePath","#7EE787"],[":","#C9D1D9"]," ",['"Dockerfile"',"#A5D6FF"],"\n          ",["env","#7EE787"],[":","#C9D1D9"],"\n            ",["CONFIG_BRANCH","#7EE787"],[":","#C9D1D9"]," ",['"{{shared-config_branchName}}"',"#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(a.h3,{id:n[6].id,children:n[6].value}),"\n",(0,r.jsx)(a.p,{children:"Track environment-specific metadata:"}),"\n",(0,r.jsx)(i,{codeblock:{value:'services:\n  - name: "env-metadata"\n    configuration:\n      defaultTag: "ephemeral"\n      branchName: "{{PR_BRANCH}}"',lang:"yaml",meta:"",code:'services:\n  - name: "env-metadata"\n    configuration:\n      defaultTag: "ephemeral"\n      branchName: "{{PR_BRANCH}}"',tokens:[["services","#7EE787"],[":","#C9D1D9"],"\n  ",["-","#C9D1D9"]," ",["name","#7EE787"],[":","#C9D1D9"]," ",['"env-metadata"',"#A5D6FF"],"\n    ",["configuration","#7EE787"],[":","#C9D1D9"],"\n      ",["defaultTag","#7EE787"],[":","#C9D1D9"]," ",['"ephemeral"',"#A5D6FF"],"\n      ",["branchName","#7EE787"],[":","#C9D1D9"]," ",['"{{PR_BRANCH}}"',"#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(c.P,{type:"info",children:(0,r.jsx)(a.p,{children:"Configuration services are lightweight entries in Lifecycle’s service\nregistry. They don’t consume cluster resources but allow other services to\nreference configuration state."})})]})},"/docs/schema/configuration",{filePath:"src/pages/docs/schema/configuration.mdx",timestamp:1770078729e3,pageMap:t.O,frontMatter:{title:"Configuration Service",description:"Deploy configuration-only services for feature flags and shared configuration",tags:["schema","configuration","feature-flags","config"]},title:"Configuration Service"},"undefined"==typeof RemoteContent?s:RemoteContent.useTOC)},71807:(e,n,a)=>{"use strict";a.d(n,{e:()=>d});var r=a(37876),i=a(20181),t=a(27096);let o=(0,a(14232).createContext)({}),c=o.Provider;o.displayName="SSG";var s=a(1513);function d(e,n,a,r){let t=globalThis[i.VZ];return t.route=n,t.pageMap=a.pageMap,t.context[n]={Content:e,pageOpts:a,useTOC:r},l}function l({__nextra_pageMap:e=[],__nextra_dynamic_opts:n,...a}){let o=globalThis[i.VZ],{Layout:s,themeConfig:d}=o,{route:l,locale:D}=(0,t.r)(),f=o.context[l];if(!f)throw Error(`No content found for the "${l}" route. Please report it as a bug.`);let{pageOpts:u,useTOC:m,Content:g}=f;if(l.startsWith("/["))u.pageMap=e;else for(let{route:n,children:a}of e){let e=n.split("/").slice(D?2:1);(function e(n,[a,...r]){for(let i of n)if("children"in i&&a===i.name)return r.length?e(i.children,r):i})(u.pageMap,e).children=a}if(n){let{title:e,frontMatter:a}=n;u={...u,title:e,frontMatter:a}}return(0,r.jsx)(s,{themeConfig:d,pageOpts:u,pageProps:a,children:(0,r.jsx)(c,{value:a,children:(0,r.jsx)(h,{useTOC:m,children:(0,r.jsx)(g,{...a})})})})}function h({children:e,useTOC:n}){let{wrapper:a}=(0,s.R)();return(0,r.jsx)(D,{useTOC:n,wrapper:a,children:e})}function D({children:e,useTOC:n,wrapper:a,...i}){let t=n(i);return a?(0,r.jsx)(a,{toc:t,children:e}):e}}},e=>{var n=n=>e(e.s=n);e.O(0,[1781,636,6593,8792],()=>n(21112)),_N_E=e.O()}]);