(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{1513:(e,t,o)=>{"use strict";o.d(t,{R:()=>s});var r=o(1668),n=o(4587),c=o.n(n),a=o(4232);let l={img:e=>(0,a.createElement)("object"==typeof e.src?c():"img",e)},s=e=>(0,r.R)({...l,...e})},1807:(e,t,o)=>{"use strict";o.d(t,{e:()=>i});var r=o(7876),n=o(181),c=o(7096);let a=(0,o(4232).createContext)({}),l=a.Provider;a.displayName="SSG";var s=o(1513);function i(e,t,o,r){let c=globalThis[n.VZ];return c.route=t,c.pageMap=o.pageMap,c.context[t]={Content:e,pageOpts:o,useTOC:r},d}function d({__nextra_pageMap:e=[],__nextra_dynamic_opts:t,...o}){let a=globalThis[n.VZ],{Layout:s,themeConfig:i}=a,{route:d,locale:p}=(0,c.r)(),h=a.context[d];if(!h)throw Error(`No content found for the "${d}" route. Please report it as a bug.`);let{pageOpts:f,useTOC:g,Content:m}=h;if(d.startsWith("/["))f.pageMap=e;else for(let{route:t,children:o}of e){let e=t.split("/").slice(p?2:1);(function e(t,[o,...r]){for(let n of t)if("children"in n&&o===n.name)return r.length?e(n.children,r):n})(f.pageMap,e).children=o}if(t){let{title:e,frontMatter:o}=t;f={...f,title:e,frontMatter:o}}return(0,r.jsx)(s,{themeConfig:i,pageOpts:f,pageProps:o,children:(0,r.jsx)(l,{value:o,children:(0,r.jsx)(u,{useTOC:g,children:(0,r.jsx)(m,{...o})})})})}function u({children:e,useTOC:t}){let{wrapper:o}=(0,s.R)();return(0,r.jsx)(p,{useTOC:t,wrapper:o,children:e})}function p({children:e,useTOC:t,wrapper:o,...n}){let c=t(n);return o?(0,r.jsx)(o,{toc:c,children:e}):e}},5039:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/setup/setup-infra",function(){return o(6030)}])},6030:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>m,useTOC:()=>f});var r=o(7876),n=o(1807),c=o(4674),a=o(1513),l=o(9941),s=o(8572);let i=(0,o(1713).A)("cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);var d=o(9241),u=o(8230),p=o.n(u);let h=Object.assign(function({children:e,num:t=3,className:o,style:n,...c}){return(0,r.jsx)("div",{className:(0,d.A)("nextra-cards _mt-4 _gap-4 _grid","_not-prose",o),...c,style:{...n,"--rows":t},children:e})},{displayName:"Cards",Card:function({children:e,title:t,icon:o,arrow:n,href:c,...a}){return(0,r.jsxs)(p(),{href:c,className:(0,d.A)("nextra-focus nextra-card _group _flex _flex-col _justify-start _overflow-hidden _rounded-lg _border _border-gray-200","_text-current _no-underline dark:_shadow-none","hover:_shadow-gray-100 dark:hover:_shadow-none _shadow-gray-100","active:_shadow-sm active:_shadow-gray-200","_transition-all _duration-200 hover:_border-gray-300",e?"_bg-gray-100 _shadow dark:_border-neutral-700 dark:_bg-neutral-800 dark:_text-gray-50 hover:_shadow-lg dark:hover:_border-neutral-500 dark:hover:_bg-neutral-700":"_bg-transparent _shadow-sm dark:_border-neutral-800 hover:_bg-slate-50 hover:_shadow-md dark:hover:_border-neutral-700 dark:hover:_bg-neutral-900"),...a,children:[e,(0,r.jsxs)("span",{className:(0,d.A)("_flex _font-semibold _items-center _gap-2 _p-4 _text-gray-700 hover:_text-gray-900",n&&'after:_content-["→"] after:_transition-transform after:_duration-75 after:group-hover:_translate-x-0.5',e?"dark:_text-gray-300 dark:hover:_text-gray-100":"dark:_text-neutral-200 dark:hover:_text-neutral-50"),children:[o,t]})]})}});function f(e){return[{value:"Google Cloud Platform",id:"google-cloud-platform",depth:2},{value:"Setup application credentials",id:"setup-application-credentials",depth:3},{value:"Bootstrap infrastructure",id:"bootstrap-infrastructure",depth:3},{value:"Amazon Web Services",id:"amazon-web-services",depth:2},{value:"Bootstrap infrastructure",id:"bootstrap-infrastructure-1",depth:3}]}function g(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}let m=(0,n.e)(function(e){let{toc:t=f(e)}=e,o={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{Code:n}=o;return h||g("Cards",!1),h.Card||g("Cards.Card",!0),n||g("Code",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.p,{children:"Based on the prerequisites you’ve set up, you’re now ready to configure your Kubernetes cluster for Lifecycle. This setup will ensure that your cluster is properly configured to run Lifecycle and manage your application environments effectively."}),"\n",(0,r.jsx)(l.P,{type:"error",emoji:"⚠️",children:(0,r.jsxs)(o.p,{children:["Note that the infra setup with the OpenTofu modules below will ",(0,r.jsx)(o.strong,{children:"open your\ncluster to the world."})," ",(0,r.jsx)("br",{}),"\n\uD83D\uDEE1️ Make sure to ",(0,r.jsx)(o.strong,{children:(0,r.jsx)("a",{href:"https://translate.google.com/details?sl=auto&tl=hy&text=shield&op=translate",children:"shield"})})," your cluster by implementing appropriate network policies\nand access controls after the initial setup."]})}),"\n",(0,r.jsx)(o.p,{children:"Click on the cloud provider you are using to set up your cluster:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:(0,r.jsx)(o.a,{href:"#google-cloud-platform",children:"Google Cloud Platform (GCP)"})}),"\n",(0,r.jsx)(o.li,{children:(0,r.jsx)(o.a,{href:"#amazon-web-services",children:"Amazon Web Services (AWS)"})}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:t[0].id,children:t[0].value}),"\n",(0,r.jsx)(o.h3,{id:t[1].id,children:t[1].value}),"\n",(0,r.jsx)(n,{codeblock:{value:"# setup current project\ngcloud config set project <PROJECT_ID>\n# creates the application default credentials\ngcloud auth application-default login",lang:"shellscript",meta:"",code:"# setup current project\ngcloud config set project <PROJECT_ID>\n# creates the application default credentials\ngcloud auth application-default login",tokens:[["# setup current project","#8B949E"],"\n",["gcloud","#FFA657"]," ",["config set project","#A5D6FF"]," ",["<","#FF7B72"],["PROJECT_I","#A5D6FF"],["D","#C9D1D9"],[">","#FF7B72"],"\n",["# creates the application default credentials","#8B949E"],"\n",["gcloud","#FFA657"]," ",["auth application-default login","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(o.p,{children:"Enable Kubernetes Engine and Cloud DNS APIs:"}),"\n",(0,r.jsx)(n,{codeblock:{value:"gcloud services enable container.googleapis.com --project=<PROJECT_ID>\ngcloud services enable dns.googleapis.com --project=<PROJECT_ID>",lang:"shellscript",meta:"",code:"gcloud services enable container.googleapis.com --project=<PROJECT_ID>\ngcloud services enable dns.googleapis.com --project=<PROJECT_ID>",tokens:[["gcloud","#FFA657"]," ",["services enable container.googleapis.com","#A5D6FF"]," ",["--project=","#79C0FF"],["<","#FF7B72"],["PROJECT_ID","#79C0FF"],[">","#FF7B72"],"\n",["gcloud","#FFA657"]," ",["services enable dns.googleapis.com","#A5D6FF"]," ",["--project=","#79C0FF"],["<","#FF7B72"],["PROJECT_ID","#79C0FF"],[">","#FF7B72"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(l.P,{type:"info",icon:s.A,children:(0,r.jsxs)(o.p,{children:["Note that you need to replace ",(0,r.jsx)(o.code,{children:"<PROJECT_ID>"})," with your actual Google Cloud project ID not the project name."]})}),"\n",(0,r.jsx)(o.h3,{id:t[2].id,children:t[2].value}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"Clone the infrastructure repository:"}),"\n"]}),"\n",(0,r.jsx)(n,{codeblock:{value:"git clone https://github.com/GoodRxOSS/lifecycle-opentofu/\ncd lifecycle-opentofu",lang:"shellscript",meta:"",code:"git clone https://github.com/GoodRxOSS/lifecycle-opentofu/\ncd lifecycle-opentofu",tokens:[["git","#FFA657"]," ",["clone https://github.com/GoodRxOSS/lifecycle-opentofu/","#A5D6FF"],"\n",["cd","#79C0FF"]," ",["lifecycle-opentofu","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Follow steps in the ",(0,r.jsx)(o.a,{href:"https://github.com/GoodRxOSS/lifecycle-opentofu/?tab=readme-ov-file#%EF%B8%8F-quick-start",children:"infrastructure repository"})," to set up the necessary infrastructure components."]}),"\n"]}),"\n",(0,r.jsx)(n,{codeblock:{value:"cp example.auto.tfvars secrets.auto.tfvars",lang:"shellscript",meta:"",code:"cp example.auto.tfvars secrets.auto.tfvars",tokens:[["cp","#FFA657"]," ",["example.auto.tfvars secrets.auto.tfvars","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.p,{children:["Example ",(0,r.jsx)(o.code,{children:"secrets.auto.tfvars"})," file:"]}),"\n",(0,r.jsx)(n,{codeblock:{value:'gcp_project          = "<PROJECT_ID>"\ngcp_region           = "<REGION_TO_DEPLOY>"\n# this is the default credentials file created by gcloud cli\ngcp_credentials_file = "~/.config/gcloud/application_default_credentials.json"\ncluster_provider     = "gke"\ndns_provider         = "cloud-dns"     # [cloudflare|route53|cloud-dns]\napp_domain           = "<YOUR_DOMAIN>" # e.g. 0env.com\n\ncluster_name         = "lifecycle-gke" # change this to your preferred cluster name\napp_namespace        = "lifecycle-app" # use default namespace',lang:"hcl",meta:"secrets.auto.tfvars",code:'gcp_project          = "<PROJECT_ID>"\ngcp_region           = "<REGION_TO_DEPLOY>"\n# this is the default credentials file created by gcloud cli\ngcp_credentials_file = "~/.config/gcloud/application_default_credentials.json"\ncluster_provider     = "gke"\ndns_provider         = "cloud-dns"     # [cloudflare|route53|cloud-dns]\napp_domain           = "<YOUR_DOMAIN>" # e.g. 0env.com\n\ncluster_name         = "lifecycle-gke" # change this to your preferred cluster name\napp_namespace        = "lifecycle-app" # use default namespace',tokens:[["gcp_project","#C9D1D9"],"          ",["=","#FF7B72"]," ",['"<PROJECT_ID>"',"#A5D6FF"],"\n",["gcp_region","#C9D1D9"],"           ",["=","#FF7B72"]," ",['"<REGION_TO_DEPLOY>"',"#A5D6FF"],"\n",["# this is the default credentials file created by gcloud cli","#8B949E"],"\n",["gcp_credentials_file","#C9D1D9"]," ",["=","#FF7B72"]," ",['"~/.config/gcloud/application_default_credentials.json"',"#A5D6FF"],"\n",["cluster_provider","#C9D1D9"],"     ",["=","#FF7B72"]," ",['"gke"',"#A5D6FF"],"\n",["dns_provider","#C9D1D9"],"         ",["=","#FF7B72"]," ",['"cloud-dns"',"#A5D6FF"],"     ",["# [cloudflare|route53|cloud-dns]","#8B949E"],"\n",["app_domain","#C9D1D9"],"           ",["=","#FF7B72"]," ",['"<YOUR_DOMAIN>"',"#A5D6FF"]," ",["# e.g. 0env.com","#8B949E"],"\n\n",["cluster_name","#C9D1D9"],"         ",["=","#FF7B72"]," ",['"lifecycle-gke"',"#A5D6FF"]," ",["# change this to your preferred cluster name","#8B949E"],"\n",["app_namespace","#C9D1D9"],"        ",["=","#FF7B72"]," ",['"lifecycle-app"',"#A5D6FF"]," ",["# use default namespace","#8B949E"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"Initialize and apply the Terraform configuration:"}),"\n"]}),"\n",(0,r.jsx)(n,{codeblock:{value:"tofu init\ntofu plan\ntofu apply",lang:"shellscript",meta:"",code:"tofu init\ntofu plan\ntofu apply",tokens:[["tofu","#FFA657"]," ",["init","#A5D6FF"],"\n",["tofu","#FFA657"]," ",["plan","#A5D6FF"],"\n",["tofu","#FFA657"]," ",["apply","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(o.p,{children:"This will create the necessary infrastructure components, including the Kubernetes cluster, DNS records, database, redis and other resources required for Lifecycle to function properly."}),"\n",(0,r.jsx)(o.p,{children:"After the Terraform apply completes, you should have a fully functional Kubernetes cluster with the necessary resources set up."}),"\n",(0,r.jsxs)(o.p,{children:["Let’s test the public DNS setup by accessing the test application deployed called ",(0,r.jsx)(o.code,{children:"kuard"})," and follow the rest of the setup instructions from the ",(0,r.jsx)(o.code,{children:"tofu apply"})," output."]}),"\n",(0,r.jsx)(n,{codeblock:{value:"curl -v https://kuard.0env.com  # replace with your domain",lang:"shellscript",meta:"",code:"curl -v https://kuard.0env.com  # replace with your domain",tokens:[["curl","#FFA657"]," ",["-v","#79C0FF"]," ",["https://kuard.0env.com","#A5D6FF"],"  ",["# replace with your domain","#8B949E"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.p,{children:["Refer example output ",(0,r.jsx)(o.a,{href:"https://github.com/GoodRxOSS/lifecycle-opentofu/?tab=readme-ov-file#4-initialize--apply",children:"here"})," to setup kubeconfig and access the cluster using ",(0,r.jsx)(o.code,{children:"kubectl"}),"."]}),"\n",(0,r.jsx)(o.p,{children:"Now that your cluster is set up, you can proceed to installing Lifecycle application to your cluster."}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(h.Card,{icon:(0,r.jsx)(i,{}),title:"Install Lifecycle",href:"/docs/setup/install-lifecycle",arrow:!0}),"\n",(0,r.jsx)(o.hr,{}),"\n",(0,r.jsx)(o.h2,{id:t[3].id,children:t[3].value}),"\n",(0,r.jsx)(n,{codeblock:{value:"# setup current project\naws configure --profile lifecycle-oss-eks\nAWS Access Key ID [***]: <key id, or enter>\nAWS AWS Secret Access Key [***]: <secret key, or enter>\nDefault Region name: <region, or enter>\nDefault output format: <format, or enter>",lang:"shellscript",meta:"",code:"# setup current project\naws configure --profile lifecycle-oss-eks\nAWS Access Key ID [***]: <key id, or enter>\nAWS AWS Secret Access Key [***]: <secret key, or enter>\nDefault Region name: <region, or enter>\nDefault output format: <format, or enter>",tokens:[["# setup current project","#8B949E"],"\n",["aws","#FFA657"]," ",["configure","#A5D6FF"]," ",["--profile","#79C0FF"]," ",["lifecycle-oss-eks","#A5D6FF"],"\n",["AWS","#FFA657"]," ",["Access Key ID","#A5D6FF"]," ",["[***]:","#C9D1D9"]," ",["<","#FF7B72"],["key id, or enter","#C9D1D9"],[">","#FF7B72"],"\n",["AWS","#FFA657"]," ",["AWS Secret Access Key","#A5D6FF"]," ",["[***]:","#C9D1D9"]," ",["<","#FF7B72"],["secret key, or enter","#C9D1D9"],[">","#FF7B72"],"\n",["Default","#FFA657"]," ",["Region name:","#A5D6FF"]," ",["<","#FF7B72"],["region, or ente","#A5D6FF"],["r","#C9D1D9"],[">","#FF7B72"],"\n",["Default","#FFA657"]," ",["output format:","#A5D6FF"]," ",["<","#FF7B72"],["format, or ente","#A5D6FF"],["r","#C9D1D9"],[">","#FF7B72"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.p,{children:["*This profile needs to have access a user with ",(0,r.jsx)(o.code,{children:"AdministratorAccess"})," access."]}),"\n",(0,r.jsx)(o.hr,{}),"\n",(0,r.jsx)(o.h3,{id:t[4].id,children:t[4].value}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"Clone the infrastructure repository:"}),"\n"]}),"\n",(0,r.jsx)(n,{codeblock:{value:"git clone https://github.com/GoodRxOSS/lifecycle-opentofu/\ncd lifecycle-opentofu",lang:"shellscript",meta:"",code:"git clone https://github.com/GoodRxOSS/lifecycle-opentofu/\ncd lifecycle-opentofu",tokens:[["git","#FFA657"]," ",["clone https://github.com/GoodRxOSS/lifecycle-opentofu/","#A5D6FF"],"\n",["cd","#79C0FF"]," ",["lifecycle-opentofu","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Follow steps in the ",(0,r.jsx)(o.a,{href:"https://github.com/GoodRxOSS/lifecycle-opentofu/?tab=readme-ov-file#%EF%B8%8F-quick-start",children:"infrastructure repository"})," to set up the necessary infrastructure components."]}),"\n"]}),"\n",(0,r.jsx)(n,{codeblock:{value:"cp example.auto.tfvars secrets.auto.tfvars",lang:"shellscript",meta:"",code:"cp example.auto.tfvars secrets.auto.tfvars",tokens:[["cp","#FFA657"]," ",["example.auto.tfvars secrets.auto.tfvars","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.p,{children:["Example ",(0,r.jsx)(o.code,{children:"secrets.auto.tfvars"})," file:"]}),"\n",(0,r.jsx)(n,{codeblock:{value:'# gcp_project          = "<PROJECT_ID>"\n$ gcp_region           = "<REGION_TO_DEPLOY>"\n# this is the default credentials file created by gcloud cli\n# gcp_credentials_file = "~/.config/gcloud/application_default_credentials.json"\ncluster_provider     = "aws"\ndns_provider         = "route53"     # [cloudflare|route53|cloud-dns]\napp_domain           = "example.com" # e.g. 0env.com\n\ncluster_name         = "lifecycle-eks" # change this to your preferred cluster name\napp_namespace        = "lifecycle-app" # use default namespace',lang:"hcl",meta:"secrets.auto.tfvars",code:'# gcp_project          = "<PROJECT_ID>"\n$ gcp_region           = "<REGION_TO_DEPLOY>"\n# this is the default credentials file created by gcloud cli\n# gcp_credentials_file = "~/.config/gcloud/application_default_credentials.json"\ncluster_provider     = "aws"\ndns_provider         = "route53"     # [cloudflare|route53|cloud-dns]\napp_domain           = "example.com" # e.g. 0env.com\n\ncluster_name         = "lifecycle-eks" # change this to your preferred cluster name\napp_namespace        = "lifecycle-app" # use default namespace',tokens:[['# gcp_project          = "<PROJECT_ID>"',"#8B949E"],"\n",["$ gcp_region","#C9D1D9"],"           ",["=","#FF7B72"]," ",['"<REGION_TO_DEPLOY>"',"#A5D6FF"],"\n",["# this is the default credentials file created by gcloud cli","#8B949E"],"\n",['# gcp_credentials_file = "~/.config/gcloud/application_default_credentials.json"',"#8B949E"],"\n",["cluster_provider","#C9D1D9"],"     ",["=","#FF7B72"]," ",['"aws"',"#A5D6FF"],"\n",["dns_provider","#C9D1D9"],"         ",["=","#FF7B72"]," ",['"route53"',"#A5D6FF"],"     ",["# [cloudflare|route53|cloud-dns]","#8B949E"],"\n",["app_domain","#C9D1D9"],"           ",["=","#FF7B72"]," ",['"example.com"',"#A5D6FF"]," ",["# e.g. 0env.com","#8B949E"],"\n\n",["cluster_name","#C9D1D9"],"         ",["=","#FF7B72"]," ",['"lifecycle-eks"',"#A5D6FF"]," ",["# change this to your preferred cluster name","#8B949E"],"\n",["app_namespace","#C9D1D9"],"        ",["=","#FF7B72"]," ",['"lifecycle-app"',"#A5D6FF"]," ",["# use default namespace","#8B949E"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"Initialize and apply the Terraform configuration:"}),"\n"]}),"\n",(0,r.jsx)(n,{codeblock:{value:"tofu init\ntofu plan\ntofu apply",lang:"shellscript",meta:"",code:"tofu init\ntofu plan\ntofu apply",tokens:[["tofu","#FFA657"]," ",["init","#A5D6FF"],"\n",["tofu","#FFA657"]," ",["plan","#A5D6FF"],"\n",["tofu","#FFA657"]," ",["apply","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsx)(o.p,{children:"This will create the necessary infrastructure components, including the Kubernetes cluster, DNS records, database, redis and other resources required for Lifecycle to function properly."}),"\n",(0,r.jsx)(o.p,{children:"After the Terraform apply completes, you should have a fully functional Kubernetes cluster with the necessary resources set up."}),"\n",(0,r.jsxs)(o.p,{children:["Let’s test the public DNS setup by accessing the test application deployed called ",(0,r.jsx)(o.code,{children:"kuard"})," and follow the rest of the setup instructions from the ",(0,r.jsx)(o.code,{children:"tofu apply"})," output."]}),"\n",(0,r.jsx)(n,{codeblock:{value:"curl -v https://kuard.0env.com  # replace with your domain",lang:"shellscript",meta:"",code:"curl -v https://kuard.0env.com  # replace with your domain",tokens:[["curl","#FFA657"]," ",["-v","#79C0FF"]," ",["https://kuard.0env.com","#A5D6FF"],"  ",["# replace with your domain","#8B949E"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,r.jsxs)(o.p,{children:["Refer example output ",(0,r.jsx)(o.a,{href:"https://github.com/GoodRxOSS/lifecycle-opentofu/?tab=readme-ov-file#4-initialize--apply",children:"here"})," to setup kubeconfig and access the cluster using ",(0,r.jsx)(o.code,{children:"kubectl"}),"."]}),"\n",(0,r.jsx)(o.p,{children:"Now that your cluster is set up, you can proceed to installing Lifecycle application to your cluster."}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(h.Card,{icon:(0,r.jsx)(i,{}),title:"Install Lifecycle",href:"/docs/setup/install-lifecycle",arrow:!0})]})},"/docs/setup/setup-infra",{filePath:"src/pages/docs/setup/setup-infra.mdx",timestamp:1749151886e3,pageMap:c.O,frontMatter:{title:"Setup your cluster",tags:["cluster","setup","gke","aws"]},title:"Setup your cluster"},"undefined"==typeof RemoteContent?f:RemoteContent.useTOC)},8572:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(1713).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[4674,636,6593,8792],()=>t(5039)),_N_E=e.O()}]);