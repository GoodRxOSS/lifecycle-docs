(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2700],{1513:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var l=n(1668),s=n(4587),o=n.n(s),c=n(4232);let a={img:e=>(0,c.createElement)("object"==typeof e.src?o():"img",e)},i=e=>(0,l.R)({...a,...e})},1807:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var l=n(7876),s=n(181),o=n(7096);let c=(0,n(4232).createContext)({}),a=c.Provider;c.displayName="SSG";var i=n(1513);function r(e,t,n,l){let o=globalThis[s.VZ];return o.route=t,o.pageMap=n.pageMap,o.context[t]={Content:e,pageOpts:n,useTOC:l},d}function d({__nextra_pageMap:e=[],__nextra_dynamic_opts:t,...n}){let c=globalThis[s.VZ],{Layout:i,themeConfig:r}=c,{route:d,locale:p}=(0,o.r)(),u=c.context[d];if(!u)throw Error(`No content found for the "${d}" route. Please report it as a bug.`);let{pageOpts:m,useTOC:f,Content:y}=u;if(d.startsWith("/["))m.pageMap=e;else for(let{route:t,children:n}of e){let e=t.split("/").slice(p?2:1);(function e(t,[n,...l]){for(let s of t)if("children"in s&&n===s.name)return l.length?e(s.children,l):s})(m.pageMap,e).children=n}if(t){let{title:e,frontMatter:n}=t;m={...m,title:e,frontMatter:n}}return(0,l.jsx)(i,{themeConfig:r,pageOpts:m,pageProps:n,children:(0,l.jsx)(a,{value:n,children:(0,l.jsx)(h,{useTOC:f,children:(0,l.jsx)(y,{...n})})})})}function h({children:e,useTOC:t}){let{wrapper:n}=(0,i.R)();return(0,l.jsx)(p,{useTOC:t,wrapper:n,children:e})}function p({children:e,useTOC:t,wrapper:n,...s}){let o=t(s);return n?(0,l.jsx)(n,{toc:o,children:e}):e}},7711:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/setup/install-lifecycle",function(){return n(9489)}])},9489:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d,useTOC:()=>r});var l=n(7876),s=n(1807),o=n(4674),c=n(1513),a=n(9941),i=n(9471);function r(e){return[]}let d=(0,s.e)(function(e){let t={code:"code",li:"li",p:"p",ul:"ul",...(0,c.R)(),...e.components},{Code:n}=t;return n||function(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Code",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.p,{children:"Now that the infrastructure components are setup, let’s install the lifecycle app and create a new Github app that will send events to the application to process and create ephemeral dev environments."}),"\n",(0,l.jsx)(a.P,{type:"info",children:(0,l.jsxs)(t.p,{children:["Make sure you have updated the kube config to be able to ",(0,l.jsx)(t.code,{children:"helm install"})," in the\ncluster you just created!"]})}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Clone the repository:"}),"\n"]}),"\n",(0,l.jsx)(n,{codeblock:{value:"git clone https://github.com/GoodRxOSS/lifecycle\ncd lifecycle",lang:"shellscript",meta:"",code:"git clone https://github.com/GoodRxOSS/lifecycle\ncd lifecycle",tokens:[["git","#FFA657"]," ",["clone https://github.com/GoodRxOSS/lifecycle","#A5D6FF"],"\n",["cd","#79C0FF"]," ",["lifecycle","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["Update the custom values file at ",(0,l.jsx)(t.code,{children:"/helm/environments/defaults.yaml"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n,{codeblock:{value:'components:\n  #... other settings\n\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt\n    hosts:\n      - host: app.<your_domain_here> # Update this with your domain\n        paths: ["/"]\n#... other settings',lang:"yaml",meta:"",code:'components:\n  #... other settings\n\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt\n    hosts:\n      - host: app.<your_domain_here> # Update this with your domain\n        paths: ["/"]\n#... other settings',tokens:[["components","#7EE787"],[":","#C9D1D9"],"\n  ",["#... other settings","#8B949E"],"\n\n  ",["ingress","#7EE787"],[":","#C9D1D9"],"\n    ",["enabled","#7EE787"],[":","#C9D1D9"]," ",["true","#79C0FF"],"\n    ",["ingressClassName","#7EE787"],[":","#C9D1D9"]," ",["nginx","#A5D6FF"],"\n    ",["annotations","#7EE787"],[":","#C9D1D9"],"\n      ",["cert-manager.io/cluster-issuer","#7EE787"],[":","#C9D1D9"]," ",["letsencrypt","#A5D6FF"],"\n    ",["hosts","#7EE787"],[":","#C9D1D9"],"\n      ",["-","#C9D1D9"]," ",["host","#7EE787"],[":","#C9D1D9"]," ",["app.<your_domain_here>","#A5D6FF"]," ",["# Update this with your domain","#8B949E"],"\n        ",["paths","#7EE787"],[": [","#C9D1D9"],['"/"',"#A5D6FF"],["]","#C9D1D9"],"\n",["#... other settings","#8B949E"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Install the Lifecycle Helm chart:"}),"\n"]}),"\n",(0,l.jsx)(n,{codeblock:{value:"helm install lifecycle helm/web-app --namespace lifecycle-app --values ./helm/environments/default/lifecycle.yaml",lang:"shellscript",meta:"",code:"helm install lifecycle helm/web-app --namespace lifecycle-app --values ./helm/environments/default/lifecycle.yaml",tokens:[["helm","#FFA657"]," ",["install lifecycle helm/web-app","#A5D6FF"]," ",["--namespace","#79C0FF"]," ",["lifecycle-app","#A5D6FF"]," ",["--values","#79C0FF"]," ",["./helm/environments/default/lifecycle.yaml","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Wait for the installation to complete and verify that the pods are running:"}),"\n"]}),"\n",(0,l.jsx)(n,{codeblock:{value:"kubectl get pods -n lifecycle-app",lang:"shellscript",meta:"",code:"kubectl get pods -n lifecycle-app",tokens:[["kubectl","#FFA657"]," ",["get pods","#A5D6FF"]," ",["-n","#79C0FF"]," ",["lifecycle-app","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,l.jsx)(a.P,{type:"info",children:(0,l.jsxs)(t.p,{children:["Make sure to replace values with your actual domain and update the secret name\naccordingly. Secret was created by the opentofu modules in the infrastructure\nsetup (",(0,l.jsx)(t.code,{children:"app-<domain>-<tld>"}),")."]})}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["Once the pods are running, you can access the application at your configured domain (e.g. ",(0,l.jsx)(t.code,{children:"https://app.0env.com"}),")"]}),"\n"]}),"\n",(0,l.jsx)(i._V,{src:"/setup/app-installed.png",width:1890,height:1089}),"\n",(0,l.jsx)(t.p,{children:"Just like that, you have successfully installed Lifecycle and set up the necessary infrastructure to start creating ephemeral environments for your GitHub pull requests!"}),"\n",(0,l.jsx)(t.p,{children:"Let’s move on to the next step where we will create a GitHub app to connect Lifecycle with your repositories."})]})},"/docs/setup/install-lifecycle",{filePath:"src/pages/docs/setup/install-lifecycle.mdx",timestamp:1749152179e3,pageMap:o.O,frontMatter:{title:"Install Lifecycle",tags:["lifecycle","install","getting-started","setup"]},title:"Install Lifecycle"},"undefined"==typeof RemoteContent?r:RemoteContent.useTOC)}},e=>{var t=t=>e(e.s=t);e.O(0,[4674,636,6593,8792],()=>t(7711)),_N_E=e.O()}]);