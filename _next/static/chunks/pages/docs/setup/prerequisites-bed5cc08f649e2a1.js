(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{49794:(e,n,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/setup/prerequisites",function(){return o(73542)}])},73542:(e,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>h,useTOC:()=>d});var s=o(37876),r=o(71807),t=o(1781),i=o(1513),c=o(19941),l=o(95044),a=o(78572);function d(e){return[]}function u(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}let h=(0,r.e)(function(e){let n={a:"a",code:"code",em:"em",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Code:o}=n;return o||u("Code",!0),l.t||u("Tabs",!1),l.t.Tab||u("Tabs.Tab",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Before we start with the setup, let’s make sure the following prerequisites are in place:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"GitHub Account"}),": You’ll need either a personal or an organization GitHub account. ",(0,s.jsx)(n.a,{href:"https://github.com/join",children:"Sign up for GitHub"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cloud Provider Account"}),": A Google Kubernetes Engine (GKE) or Amazon Web Services (AWS) Account. You’ll need an active account with either platform to proceed."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://cloud.google.com",children:"Sign up for Google Cloud"})," and create a project"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://aws.amazon.com/",children:"Sign up for AWS"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(c.P,{icon:a.A,children:(0,s.jsx)(n.p,{children:"We recommend using an isolated project or account in your cloud provider\nspecifically for this setup to begin with. This helps to keep your resources\norganized and manageable as you experiment with Lifecycle."})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"CLI Tools"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://opentofu.org/docs/intro/install/",children:"OpenTofu"})})," — Infrastructure as code tool (OpenTofu is a community-driven fork of Terraform)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/#kubectl",children:"kubectl"})})," — Command-line tool for interacting with Kubernetes clusters."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://formulae.brew.sh/cask/google-cloud-sdk",children:"gcloud"})})," or ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html",children:"aws-cli"})})," — Command-line tools for managing Google Cloud or AWS resources, respectively."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Custom Domain"}),": You will need a custom domain (e.g., ",(0,s.jsx)(n.code,{children:"0env.com"}),") to route traffic to your application environments. This is particularly important for setting up:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Public callback and webhook URLs for the GitHub App"}),"\n",(0,s.jsx)(n.li,{children:"Ingress routing within the Kubernetes cluster"}),"\n",(0,s.jsx)(n.li,{children:"Secure (HTTPS) access via TLS certificates"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"DNS Provider with Wildcard Support"}),": The domain must be managed by a DNS provider that supports wildcard DNS records (e.g., *.0env.com). This is necessary to dynamically route traffic from GitHub to the Lifecycle app and to ephemeral environments."]}),"\n",(0,s.jsx)(n.p,{children:"Supported DNS providers that support wildcard for infrastructure setup include:"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.t,{items:["Google Cloud DNS","AWS Route 53","Cloudflare"],children:[(0,s.jsxs)(l.t.Tab,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Manual Setup"}),":\nSetup a ",(0,s.jsx)(n.a,{href:"https://cloud.google.com/dns",children:"public DNS zone in Google Cloud"})," to manage your domain’s DNS records."]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Follow steps ",(0,s.jsx)(n.a,{href:"https://cloud.google.com/dns/docs/zones#create-pub-zone",children:"here"})," to setup a\npublic DNS zone."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Wildcard DNS records will be created by the OpenTofu modules in the next steps."}),"\n"]}),"\n"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"CLI Setup"}),":\nUse the ",(0,s.jsx)(n.code,{children:"gcloud"})," CLI to create a public DNS zone for your domain:"]}),(0,s.jsx)(o,{codeblock:{value:'gcloud config set project <PROJECT_ID>\ngcloud auth application-default login\ngcloud services enable dns.googleapis.com --project=<PROJECT_ID>\ngcloud dns --project=<PROJECT_ID> managed-zones create <DNS_ZONE_NAME> --description="Lifecycle OSS starter DNS public zone" --dns-name="<YOUR_DOMAIN>." --visibility="public" --dnssec-state="off"',lang:"shellscript",meta:"",code:'gcloud config set project <PROJECT_ID>\ngcloud auth application-default login\ngcloud services enable dns.googleapis.com --project=<PROJECT_ID>\ngcloud dns --project=<PROJECT_ID> managed-zones create <DNS_ZONE_NAME> --description="Lifecycle OSS starter DNS public zone" --dns-name="<YOUR_DOMAIN>." --visibility="public" --dnssec-state="off"',tokens:[["gcloud","#FFA657"]," ",["config set project","#A5D6FF"]," ",["<","#FF7B72"],["PROJECT_I","#A5D6FF"],["D","#C9D1D9"],[">","#FF7B72"],"\n",["gcloud","#FFA657"]," ",["auth application-default login","#A5D6FF"],"\n",["gcloud","#FFA657"]," ",["services enable dns.googleapis.com","#A5D6FF"]," ",["--project=","#79C0FF"],["<","#FF7B72"],["PROJECT_ID","#79C0FF"],[">","#FF7B72"],"\n",["gcloud","#FFA657"]," ",["dns","#A5D6FF"]," ",["--project=","#79C0FF"],["<","#FF7B72"],["PROJECT_ID","#79C0FF"],[">","#FF7B72"]," ",["managed-zones create","#A5D6FF"]," ",["<","#FF7B72"],["DNS_ZONE_NAM","#A5D6FF"],["E","#C9D1D9"],[">","#FF7B72"]," ",["--description=","#79C0FF"],['"Lifecycle OSS starter DNS public zone"',"#A5D6FF"]," ",["--dns-name=","#79C0FF"],['"<YOUR_DOMAIN>."',"#A5D6FF"]," ",["--visibility=","#79C0FF"],['"public"',"#A5D6FF"]," ",["--dnssec-state=","#79C0FF"],['"off"',"#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Update your domain’s DNS records with NS records provided by Google Cloud DNS. You can find these in the Google Cloud Console under the DNS zone you created."})})]}),(0,s.jsxs)(l.t.Tab,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://aws.amazon.com/route53/",children:"AWS Route 53"})}),": Amazon’s scalable DNS web\nservice designed to route end users to Internet applications."]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Manual Setup"}),":"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Authenticate with AWS CLI using the role/usr you desire."}),"\n",(0,s.jsxs)(n.li,{children:["Ensure you have ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/CreatingNewSubdomain.html",children:"your domain provisioned to accept wildcards"}),"; eg ",(0,s.jsx)(n.code,{children:"*.lifecycle.<your-domain>.com"})]}),"\n"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"CLI Setup"}),":"]}),(0,s.jsx)(o,{codeblock:{value:"aws configure",lang:"shellscript",meta:"",code:"aws configure",tokens:[["aws","#FFA657"]," ",["configure","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),(0,s.jsx)(o,{codeblock:{value:'aws route53 change-resource-record-sets --hosted-zone-id <hosted-zone> --change-batch \'{\n  "Comment": "CREATE wildcard for <your-domain>",\n  "Changes": [\n    {\n      "Action": "CREATE",\n      "ResourceRecordSet": {\n        "Name": "<subdomain>.<your-domain>.com",\n        "Type": "A",\n        "TTL": 300,\n        "ResourceRecords": [\n          {\n            "Value": "*********"\n          }\n        ]\n      }\n    }\n  ]\n}\'',lang:"shellscript",meta:"",code:'aws route53 change-resource-record-sets --hosted-zone-id <hosted-zone> --change-batch \'{\n  "Comment": "CREATE wildcard for <your-domain>",\n  "Changes": [\n    {\n      "Action": "CREATE",\n      "ResourceRecordSet": {\n        "Name": "<subdomain>.<your-domain>.com",\n        "Type": "A",\n        "TTL": 300,\n        "ResourceRecords": [\n          {\n            "Value": "*********"\n          }\n        ]\n      }\n    }\n  ]\n}\'',tokens:[["aws","#FFA657"]," ",["route53 change-resource-record-sets","#A5D6FF"]," ",["--hosted-zone-id","#79C0FF"]," ",["<","#FF7B72"],["hosted-zon","#A5D6FF"],["e","#C9D1D9"],[">","#FF7B72"]," ",["--change-batch","#79C0FF"]," ",["'{","#A5D6FF"],"\n  ",['"Comment": "CREATE wildcard for <your-domain>",',"#A5D6FF"],"\n  ",['"Changes": [',"#A5D6FF"],"\n    ",["{","#A5D6FF"],"\n      ",['"Action": "CREATE",',"#A5D6FF"],"\n      ",['"ResourceRecordSet": {',"#A5D6FF"],"\n        ",['"Name": "<subdomain>.<your-domain>.com",',"#A5D6FF"],"\n        ",['"Type": "A",',"#A5D6FF"],"\n        ",['"TTL": 300,',"#A5D6FF"],"\n        ",['"ResourceRecords": [',"#A5D6FF"],"\n          ",["{","#A5D6FF"],"\n            ",['"Value": "*********"',"#A5D6FF"],"\n          ",["}","#A5D6FF"],"\n        ",["]","#A5D6FF"],"\n      ",["}","#A5D6FF"],"\n    ",["}","#A5D6FF"],"\n  ",["]","#A5D6FF"],"\n",["}'","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}})]}),(0,s.jsx)(l.t.Tab,{children:(0,s.jsxs)(n.p,{children:["If you want to use Cloudflare as your primary DNS provider and manage your DNS records on Cloudflare, your domain should be using a full setup.\nThis means that you are using Cloudflare for your authoritative DNS nameservers.\nFollow the steps ",(0,s.jsx)(n.a,{href:"https://developers.cloudflare.com/dns/zone-setups/full-setup/setup/",children:"here"})," to setup a public DNS zone in Cloudflare."]})})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(c.P,{type:"info",children:[(0,s.jsxs)(n.p,{children:["Ensure that your domain’s nameservers are pointing to your chosen DNS provider\nat your registrar, and that you have permission to create and manage DNS\nrecords programmatically. ",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"This is crucial for the setup to work\ncorrectly and will take time to propagate."})]}),(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.a,{href:"https://dnschecker.org/#NS",children:"https://dnschecker.org/#NS"})," to verify that your domain’s nameservers are correctly set up."]})]}),"\n",(0,s.jsx)(n.p,{children:"Once you have these prerequisites in place, you can proceed to the next steps in setting up the cluster and application."})]})},"/docs/setup/prerequisites",{filePath:"src/pages/docs/setup/prerequisites.mdx",timestamp:1769205874e3,pageMap:t.O,frontMatter:{title:"Prerequisites",tags:["requirements","prerequisites","setup"]},title:"Prerequisites"},"undefined"==typeof RemoteContent?d:RemoteContent.useTOC)},78572:(e,n,o)=>{"use strict";o.d(n,{A:()=>s});let s=(0,o(11713).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}},e=>{var n=n=>e(e.s=n);e.O(0,[1964,1781,636,6593,8792],()=>n(49794)),_N_E=e.O()}]);