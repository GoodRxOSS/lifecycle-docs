(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7719],{1468:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/getting-started/create-environment",function(){return t(9002)}])},1513:(e,n,t)=>{"use strict";t.d(n,{R:()=>c});var i=t(1668),o=t(4587),r=t.n(o),l=t(4232);let s={img:e=>(0,l.createElement)("object"==typeof e.src?r():"img",e)},c=e=>(0,i.R)({...s,...e})},1807:(e,n,t)=>{"use strict";t.d(n,{e:()=>a});var i=t(7876),o=t(181),r=t(7096);let l=(0,t(4232).createContext)({}),s=l.Provider;l.displayName="SSG";var c=t(1513);function a(e,n,t,i){let r=globalThis[o.VZ];return r.route=n,r.pageMap=t.pageMap,r.context[n]={Content:e,pageOpts:t,useTOC:i},d}function d({__nextra_pageMap:e=[],__nextra_dynamic_opts:n,...t}){let l=globalThis[o.VZ],{Layout:c,themeConfig:a}=l,{route:d,locale:u}=(0,r.r)(),p=l.context[d];if(!p)throw Error(`No content found for the "${d}" route. Please report it as a bug.`);let{pageOpts:m,useTOC:f,Content:g}=p;if(d.startsWith("/["))m.pageMap=e;else for(let{route:n,children:t}of e){let e=n.split("/").slice(u?2:1);(function e(n,[t,...i]){for(let o of n)if("children"in o&&t===o.name)return i.length?e(o.children,i):o})(m.pageMap,e).children=t}if(n){let{title:e,frontMatter:t}=n;m={...m,title:e,frontMatter:t}}return(0,i.jsx)(c,{themeConfig:a,pageOpts:m,pageProps:t,children:(0,i.jsx)(s,{value:t,children:(0,i.jsx)(h,{useTOC:f,children:(0,i.jsx)(g,{...t})})})})}function h({children:e,useTOC:n}){let{wrapper:t}=(0,c.R)();return(0,i.jsx)(u,{useTOC:n,wrapper:t,children:e})}function u({children:e,useTOC:n,wrapper:t,...o}){let r=n(o);return t?(0,i.jsx)(t,{toc:r,children:e}):e}},8572:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});let i=(0,t(1713).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},9002:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>h,useTOC:()=>d});var i=t(7876),o=t(1807),r=t(4674),l=t(1513),s=t(9941);let c=(0,t(1713).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var a=t(8572);function d(e){let n={code:"code",...(0,l.R)()};return[{value:"1. Fork the Repository",id:"1-fork-the-repository",depth:2},{value:"2. Create a New Branch",id:"2-create-a-new-branch",depth:2},{value:"3. Update Lifecycle Configuration",id:"3-update-lifecycle-configuration",depth:2},{value:"4. Commit & Push Your Changes",id:"4-commit--push-your-changes",depth:2},{value:"5. Create a Pull Request",id:"5-create-a-pull-request",depth:2},{value:"6. Lifecycle PR Comment",id:"6-lifecycle-pr-comment",depth:2},{value:(0,i.jsxs)(i.Fragment,{children:["7. Add ",(0,i.jsx)(n.code,{children:"lifecycle-status-comments!"})," label"]}),id:"7-add-lifecycle-status-comments-label",depth:2},{value:"8. Wait for Deployment",id:"8-wait-for-deployment",depth:2},{value:"9. Checkout the deployed application",id:"9-checkout-the-deployed-application",depth:2},{value:"Next Steps",id:"next-steps",depth:2}]}let h=(0,o.e)(function(e){let{toc:n=d(e)}=e,t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Code:o}=t;return o||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Code",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"In this walk through, we will make a simple change to an example frontend repository and create our first ephemeral environment using Lifecycle."}),"\n",(0,i.jsx)(t.h2,{id:n[0].id,children:n[0].value}),"\n",(0,i.jsxs)(t.p,{children:["Fork the ",(0,i.jsx)(t.a,{href:"https://github.com/GoodRxOSS/lifecycle-examples",children:(0,i.jsx)(t.code,{children:"lifecycle-examples"})})," repository to your org or personal account and install your newly minted GitHub App to the forked repository."]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Navigate to ",(0,i.jsx)(t.code,{children:"https://github.com/settings/apps"})," (for personal accounts) or ",(0,i.jsx)(t.code,{children:"https://github.com/organizations/<org>/settings/apps"})," (for org accounts)."]}),"\n",(0,i.jsxs)(t.li,{children:["Find the ",(0,i.jsx)(t.strong,{children:"Lifecycle GitHub App"})," and click on ",(0,i.jsx)(t.strong,{children:"Edit"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Choose ",(0,i.jsx)(t.code,{children:"Install App"})," from sidebar and click the Settings ",(0,i.jsx)(c,{className:"inline"})," icon."]}),"\n",(0,i.jsxs)(t.li,{children:["Select the forked repository from the list and select ",(0,i.jsx)(t.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:n[1].id,children:n[1].value}),"\n",(0,i.jsxs)(t.p,{children:["Clone the repo and create a branch named ",(0,i.jsx)(t.code,{children:"lfc-config"}),":"]}),"\n",(0,i.jsx)(o,{codeblock:{value:"git checkout -b lfc-config",lang:"shellscript",meta:"",code:"git checkout -b lfc-config",tokens:[["git","#FFA657"]," ",["checkout","#A5D6FF"]," ",["-b","#79C0FF"]," ",["lfc-config","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,i.jsx)(t.p,{children:"or if you are using GitHub Desktop, you can create a new branch from the UI."}),"\n",(0,i.jsx)(t.h2,{id:n[2].id,children:n[2].value}),"\n",(0,i.jsxs)(t.p,{children:["Open the ",(0,i.jsx)(t.code,{children:"lifecycle.yaml"})," file in the root of the repository and update the ",(0,i.jsx)(t.code,{children:"frontend"})," service’s repository to your github username or org."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Before:"})}),"\n",(0,i.jsx)(o,{codeblock:{value:'github:\n  repository: "GoodRxOSS/lifecycle-examples"',lang:"yaml",meta:'filename="lifecycle.yaml"',code:'github:\n  repository: "GoodRxOSS/lifecycle-examples"',tokens:[["github","#7EE787"],[":","#C9D1D9"],"\n  ",["repository","#7EE787"],[":","#C9D1D9"]," ",['"GoodRxOSS/lifecycle-examples"',"#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"After:"})}),"\n",(0,i.jsx)(o,{codeblock:{value:'github:\n  repository: "<your-github-username>/lifecycle-examples"',lang:"yaml",meta:'filename="lifecycle.yaml"',code:'github:\n  repository: "<your-github-username>/lifecycle-examples"',tokens:[["github","#7EE787"],[":","#C9D1D9"],"\n  ",["repository","#7EE787"],[":","#C9D1D9"]," ",['"<your-github-username>/lifecycle-examples"',"#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,i.jsx)(t.h2,{id:n[3].id,children:n[3].value}),"\n",(0,i.jsx)(o,{codeblock:{value:'git add .\ngit commit -m "update config"\ngit push origin lfc-config',lang:"shellscript",meta:"",code:'git add .\ngit commit -m "update config"\ngit push origin lfc-config',tokens:[["git","#FFA657"]," ",["add .","#A5D6FF"],"\n",["git","#FFA657"]," ",["commit","#A5D6FF"]," ",["-m","#79C0FF"]," ",['"update config"',"#A5D6FF"],"\n",["git","#FFA657"]," ",["push origin lfc-config","#A5D6FF"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,i.jsx)(t.h2,{id:n[4].id,children:n[4].value}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Open a ",(0,i.jsx)(t.strong,{children:"Pull Request (PR)"})," from ",(0,i.jsx)(t.code,{children:"lfc-config"})," to ",(0,i.jsx)(t.code,{children:"main"})," in the forked repository."]}),"\n",(0,i.jsx)(t.li,{children:"Submit the PR."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:n[5].id,children:n[5].value}),"\n",(0,i.jsxs)(t.p,{children:["After submitting the PR, you’ll see a ",(0,i.jsx)(t.strong,{children:"GitHub comment from Lifecycle"})," on your pull request."]}),"\n",(0,i.jsxs)(t.p,{children:["\uD83D\uDD39 This PR comment is the ",(0,i.jsx)(t.strong,{children:"mission control"})," for your ephemeral environment. It provides:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["A ",(0,i.jsx)(t.strong,{children:"status update"})," of the build and deploy process."]}),"\n",(0,i.jsxs)(t.li,{children:["A ",(0,i.jsx)(t.strong,{children:"list of services"})," configured for the environment."]}),"\n",(0,i.jsxs)(t.li,{children:["A ",(0,i.jsx)(t.strong,{children:"link to the Lifecycle UI"})," where you can view logs, deployments, and environment details."]}),"\n"]}),"\n",(0,i.jsx)(s.P,{type:"error",children:(0,i.jsxs)(t.p,{children:["If there is no comment from Lifecycle, it means the app is not configured\ncorrectly or the GitHub App is not installed in the repository. Please refer\nto the ",(0,i.jsx)(t.a,{href:"/docs/troubleshooting/github-app-webhooks",children:"Missing Comment"})," page for\nmore information."]})}),"\n",(0,i.jsx)(t.h2,{id:n[6].id,children:n[6].value}),"\n",(0,i.jsxs)(t.p,{children:["The additional label ",(0,i.jsx)(t.code,{children:"lifecycle-status-comments!"})," provides more detailed information about the environment status and links to access the running application."]}),"\n",(0,i.jsx)(t.p,{children:"\uD83D\uDD39 The comments provides insights into:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Build & Deploy Status"}),": Track when your environment is ready."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Environment URLs"}),": Access the running frontend app."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Telemetry Links"}),": Links to telemetry, build and deploy logs. (if enabled)"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:n[7].id,children:n[7].value}),"\n",(0,i.jsxs)(t.p,{children:["Wait for the ",(0,i.jsx)(t.strong,{children:"builds & deploys"})," to complete. Once the status updates to ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"deployed"})}),", your environment is live! \uD83D\uDE80"]}),"\n",(0,i.jsx)(t.p,{children:"When a new commit is pushed to your pull request Lifecycle automatically builds and deploys again so you always have the latest version of the application."}),"\n",(0,i.jsxs)(s.P,{type:"info",icon:a.A,children:[(0,i.jsx)(t.p,{children:"If there are any errors during the build or deploy process, the environment\nwill not be created, and you will see an error message in the Lifecycle\ncomment."}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{children:(0,i.jsxs)(t.p,{children:["You can check the logs from ",(0,i.jsx)(t.code,{children:"lifecycle-worker"})," pods in your cluster to debug\nthe issue: ",(0,i.jsx)("br",{})," ",(0,i.jsx)(t.code,{children:"kubectl logs deploy/lifecycle-worker -n lifecycle-app -f     "})]})})]}),"\n",(0,i.jsx)(t.h2,{id:n[8].id,children:n[8].value}),"\n",(0,i.jsxs)(t.p,{children:["Once the deployment is complete, you can access your environment at the URL provided in the Lifecycle comment on your pull request. Click on the ",(0,i.jsx)(t.code,{children:"frontend"})," link to open your application in a new tab."]}),"\n",(0,i.jsx)(t.p,{children:"The application has two simple pages:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"/tasks"})})," – A simple to-do list."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"/variables"})})," – Displays all environment variables from the container."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:n[9].id,children:n[9].value}),"\n",(0,i.jsx)(t.p,{children:"Now that your first ephemeral environment is ready, move on to the next section where we:"}),"\n",(0,i.jsxs)(t.p,{children:["\uD83E\uDDEA Test the environment.",(0,i.jsx)("br",{}),"\n\uD83E\uDDED Explore the comments and logs.",(0,i.jsx)("br",{}),"\n⚙️ Customize the configuration."]})]})},"/docs/getting-started/create-environment",{filePath:"src/pages/docs/getting-started/create-environment.mdx",timestamp:175072387e4,pageMap:r.O,frontMatter:{title:"Create environment",tags:["lifecycle","tutorial","ephemeral-env","start","first environment"]},title:"Create environment"},"undefined"==typeof RemoteContent?d:RemoteContent.useTOC)}},e=>{var n=n=>e(e.s=n);e.O(0,[4674,636,6593,8792],()=>n(1468)),_N_E=e.O()}]);