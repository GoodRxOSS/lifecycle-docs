(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1414],{1513:(e,n,s)=>{"use strict";s.d(n,{R:()=>c});var t=s(91668),i=s(54587),r=s.n(i),d=s(14232);let l={img:e=>(0,d.createElement)("object"==typeof e.src?r():"img",e)},c=e=>(0,t.R)({...l,...e})},2832:(e,n,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/features/ai-agent",function(){return s(11031)}])},11031:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>o,useTOC:()=>c});var t=s(37876),i=s(71807),r=s(1781),d=s(1513),l=s(19941);function c(e){return[{value:"Accessing the agent",id:"accessing-the-agent",depth:2},{value:"Debugging a failing environment",id:"debugging-a-failing-environment",depth:2},{value:"Understanding responses",id:"understanding-responses",depth:2},{value:"Summary",id:"summary",depth:3},{value:"Service cards",id:"service-cards",depth:3},{value:"Activity panel",id:"activity-panel",depth:3},{value:"Selecting a model",id:"selecting-a-model",depth:2},{value:"Supported providers",id:"supported-providers",depth:3},{value:"Agent capabilities",id:"agent-capabilities",depth:2},{value:"Summary",id:"summary-1",depth:2}]}let o=(0,i.e)(function(e){let{toc:n=c(e)}=e,s={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components},{Code:i}=s;return i||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Code",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"AI Agent"})," is an interactive assistant built into Lifecycle that helps you debug and investigate issues in your ephemeral environments. It inspects Kubernetes resources, reads pod logs, queries the Lifecycle database, browses your GitHub repository, and can apply fixes directly."]}),"\n",(0,t.jsx)(l.P,{type:"info",children:(0,t.jsxs)(s.p,{children:["An administrator must enable the AI Agent before you can use it. If the\nfeature is not enabled, you see an ",(0,t.jsx)(s.strong,{children:"“AI Agent Not Enabled”"})," message with a\nprompt to contact your administrator. See ",(0,t.jsx)(s.a,{href:"/docs/features/ai-agent-configuration",children:"AI Agent\nConfiguration"})," for setup details."]})}),"\n",(0,t.jsx)(s.h2,{id:n[0].id,children:n[0].value}),"\n",(0,t.jsx)(s.p,{children:"Navigate to the AI Agent from any build’s detail view:"}),"\n",(0,t.jsx)(i,{codeblock:{value:"/builds/<build-uuid>/ai",lang:"txt",meta:"",code:"/builds/<build-uuid>/ai",tokens:[["/builds/<build-uuid>/ai","#C9D1D9"]],annotations:[],themeName:"github-dark",style:{color:"#c9d1d9",background:"#0d1117",colorScheme:"dark"}}}),"\n",(0,t.jsx)(s.p,{children:"The chat interface is scoped to that build’s environment — the agent already knows which namespace, services, and resources to inspect."}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:n[1].id,children:n[1].value}),"\n",(0,t.jsx)(s.p,{children:"Here’s a typical debugging session:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Open the AI Agent page for your build."}),"\n",(0,t.jsxs)(s.li,{children:["Click one of the suggested prompts — for example, ",(0,t.jsx)(s.strong,{children:"“Why are my pods not starting?”"})]}),"\n",(0,t.jsx)(s.li,{children:"The agent queries Kubernetes for pod statuses, reads recent logs, and checks deployment configurations."}),"\n",(0,t.jsx)(s.li,{children:"It returns a structured response with a summary, per-service findings, and suggested fixes."}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["At this point, you should see a response with ",(0,t.jsx)(s.strong,{children:"service cards"})," and an ",(0,t.jsx)(s.strong,{children:"activity panel"})," (described below). If the agent suggests a fix, you can apply it with one click."]}),"\n",(0,t.jsx)(l.P,{type:"tip",children:(0,t.jsx)(s.p,{children:"You don’t need to know which Kubernetes commands to run. Describe your problem\nin plain language and let the agent investigate."})}),"\n",(0,t.jsx)(s.p,{children:"The suggested prompts on first load are:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"“Why is my build failing?”"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"“What’s wrong with deployments?”"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"“Why are my pods not starting?”"})}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"You can also type your own question."}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:n[2].id,children:n[2].value}),"\n",(0,t.jsx)(s.p,{children:"The agent returns two response formats depending on the question:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Plain text"})," — for simple or conversational answers"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Structured investigation"})," — for debugging queries, containing the sections below"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:n[3].id,children:n[3].value}),"\n",(0,t.jsx)(s.p,{children:"A brief overview at the top describing overall environment health and key findings."}),"\n",(0,t.jsx)(s.h3,{id:n[4].id,children:n[4].value}),"\n",(0,t.jsx)(s.p,{children:"Each service gets its own card with:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Status chip"})," — service health: ",(0,t.jsx)(s.code,{children:"healthy"}),", ",(0,t.jsx)(s.code,{children:"degraded"}),", ",(0,t.jsx)(s.code,{children:"failing"}),", ",(0,t.jsx)(s.code,{children:"pending"}),", or ",(0,t.jsx)(s.code,{children:"unknown"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Issue"})," — root cause or current problem"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Errors"})," — specific error messages from logs or events"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Suggested fixes"})," — actionable steps you can follow"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Auto-fix button"})," — applies a fix directly (for example, restarting a deployment or committing a config change to your PR branch)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Evidence"})," — links back to the tool calls that support the findings"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:n[5].id,children:n[5].value}),"\n",(0,t.jsxs)(s.p,{children:["Each response includes a collapsible ",(0,t.jsx)(s.strong,{children:"Investigation"})," panel showing every tool call the agent made:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Status icon"})," — spinner (in progress), green checkmark (success), or red X (failure)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Description"})," — what the agent did (e.g., “Fetched pods in namespace env-abc123”)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Duration chip"})," — how long the call took"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["A ",(0,t.jsx)(s.strong,{children:"total investigation time"})," appears at the top of the panel. Evidence references in the response link to specific entries in this panel."]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:n[6].id,children:n[6].value}),"\n",(0,t.jsxs)(s.p,{children:["A ",(0,t.jsx)(s.strong,{children:"Model"})," dropdown in the chat header displays available models in the format ",(0,t.jsx)(s.code,{children:"provider:modelId"})," (for example, “Claude Sonnet” or “GPT-4o”). Your selection is saved to ",(0,t.jsx)(s.code,{children:"localStorage"})," and persists across sessions."]}),"\n",(0,t.jsxs)(s.p,{children:["A ",(0,t.jsx)(s.strong,{children:"Clear"})," button appears when you have messages. It clears the conversation history and starts a new session."]}),"\n",(0,t.jsx)(s.h3,{id:n[7].id,children:n[7].value}),"\n",(0,t.jsx)(s.p,{children:"Each provider requires its own API key configured on the server:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Provider"}),(0,t.jsx)(s.th,{children:"Environment Variable"}),(0,t.jsx)(s.th,{children:"Fallback Variable"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Anthropic"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"ANTHROPIC_API_KEY"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"AI_API_KEY"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"OpenAI"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"OPENAI_API_KEY"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"AI_API_KEY"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Gemini"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"GEMINI_API_KEY"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"AI_API_KEY"})})]})]})]}),"\n",(0,t.jsx)(l.P,{type:"tip",children:(0,t.jsxs)(s.p,{children:["Set ",(0,t.jsx)(s.code,{children:"AI_API_KEY"})," as a universal fallback if all providers share the same key.\nProvider-specific keys take precedence."]})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:n[8].id,children:n[8].value}),"\n",(0,t.jsx)(s.p,{children:"The agent has access to tools organized by category:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Category"}),(0,t.jsx)(s.th,{children:"Tools"}),(0,t.jsx)(s.th,{children:"What they do"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Kubernetes"})}),(0,t.jsx)(s.td,{children:"Get Resources, Get Pod Logs, Get Lifecycle Logs"}),(0,t.jsx)(s.td,{children:"Inspect pods, deployments, services, events, and logs in the build namespace"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Kubernetes"})}),(0,t.jsx)(s.td,{children:"Patch Resource"}),(0,t.jsx)(s.td,{children:"Restart deployments, scale replicas, delete stuck resources, apply patches"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Kubernetes"})}),(0,t.jsx)(s.td,{children:"Query Database"}),(0,t.jsx)(s.td,{children:"Run read-only queries against the Lifecycle database for build and deploy metadata"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"GitHub"})}),(0,t.jsx)(s.td,{children:"Get File, List Directory"}),(0,t.jsx)(s.td,{children:"Browse repository files and directories on the PR branch"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"GitHub"})}),(0,t.jsx)(s.td,{children:"Update File"}),(0,t.jsx)(s.td,{children:"Commit a fix directly to the PR branch"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"GitHub"})}),(0,t.jsx)(s.td,{children:"Get Issue Comment"}),(0,t.jsx)(s.td,{children:"Read PR comments for additional context"})]})]})]}),"\n",(0,t.jsx)(l.P,{children:(0,t.jsxs)(s.p,{children:["Administrators can restrict which tools the agent uses per repository. See ",(0,t.jsx)(s.a,{href:"/docs/features/ai-agent-configuration#access-control",children:"AI\nAgent Configuration"})," for\ndetails."]})}),"\n",(0,t.jsxs)(s.p,{children:["You can also extend the agent with external tools via ",(0,t.jsx)(s.a,{href:"/docs/features/mcp-integration",children:"MCP Integration"}),"."]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:n[9].id,children:n[9].value}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Feature"}),(0,t.jsx)(s.th,{children:"Details"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Access URL"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"/builds/<build-uuid>/ai"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Prerequisite"}),(0,t.jsx)(s.td,{children:"Must be enabled by an administrator"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Suggested prompts"}),(0,t.jsx)(s.td,{children:"”Why is my build failing?”, “What’s wrong with deployments?”, “Why are my pods not starting?”"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Response format"}),(0,t.jsx)(s.td,{children:"Plain text or structured investigation with service cards"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Activity panel"}),(0,t.jsx)(s.td,{children:"Collapsible list of tool calls with status and duration"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Model selection"}),(0,t.jsx)(s.td,{children:"Dropdown in header, persisted in localStorage"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Supported providers"}),(0,t.jsx)(s.td,{children:"Anthropic, OpenAI, Gemini"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Auto-fix"}),(0,t.jsx)(s.td,{children:"One-click fixes via Kubernetes patches or GitHub commits"})]})]})]})]})},"/docs/features/ai-agent",{filePath:"src/pages/docs/features/ai-agent.mdx",timestamp:1771378891e3,pageMap:r.O,frontMatter:{title:"AI Agent",tags:["ai","agent","debugging","investigation","llm"]},title:"AI Agent"},"undefined"==typeof RemoteContent?c:RemoteContent.useTOC)},71807:(e,n,s)=>{"use strict";s.d(n,{e:()=>o});var t=s(37876),i=s(20181),r=s(27096);let d=(0,s(14232).createContext)({}),l=d.Provider;d.displayName="SSG";var c=s(1513);function o(e,n,s,t){let r=globalThis[i.VZ];return r.route=n,r.pageMap=s.pageMap,r.context[n]={Content:e,pageOpts:s,useTOC:t},a}function a({__nextra_pageMap:e=[],__nextra_dynamic_opts:n,...s}){let d=globalThis[i.VZ],{Layout:c,themeConfig:o}=d,{route:a,locale:x}=(0,r.r)(),u=d.context[a];if(!u)throw Error(`No content found for the "${a}" route. Please report it as a bug.`);let{pageOpts:j,useTOC:p,Content:g}=u;if(a.startsWith("/["))j.pageMap=e;else for(let{route:n,children:s}of e){let e=n.split("/").slice(x?2:1);(function e(n,[s,...t]){for(let i of n)if("children"in i&&s===i.name)return t.length?e(i.children,t):i})(j.pageMap,e).children=s}if(n){let{title:e,frontMatter:s}=n;j={...j,title:e,frontMatter:s}}return(0,t.jsx)(c,{themeConfig:o,pageOpts:j,pageProps:s,children:(0,t.jsx)(l,{value:s,children:(0,t.jsx)(h,{useTOC:p,children:(0,t.jsx)(g,{...s})})})})}function h({children:e,useTOC:n}){let{wrapper:s}=(0,c.R)();return(0,t.jsx)(x,{useTOC:n,wrapper:s,children:e})}function x({children:e,useTOC:n,wrapper:s,...i}){let r=n(i);return s?(0,t.jsx)(s,{toc:r,children:e}):e}}},e=>{var n=n=>e(e.s=n);e.O(0,[1781,636,6593,8792],()=>n(2832)),_N_E=e.O()}]);